(this["webpackJsonptwilio-video-diagnostics-react-app"]=this["webpackJsonptwilio-video-diagnostics-react-app"]||[]).push([[0],{175:function(e){e.exports=JSON.parse('{"a":"twilio-video-diagnostics-react-app"}')},344:function(e,t,i){"use strict";i.r(t);var n=i(12),r=i.n(n),a=i(375),o=i(404),s=i(1),c=i.n(s),l=i(45),d=i(85),u=i(14),j=i(99),b=i(40),h=i.n(b),p=i(167),v=i.n(p),g=i(59),x=i.n(g);var m=i(20);var O,f=i(0);!function(e){e[e.GetStarted=0]="GetStarted",e[e.DeviceCheck=1]="DeviceCheck",e[e.DeviceError=2]="DeviceError",e[e.CameraTest=3]="CameraTest",e[e.AudioTest=4]="AudioTest",e[e.BrowserTest=5]="BrowserTest",e[e.Connectivity=6]="Connectivity",e[e.Quality=7]="Quality",e[e.Results=8]="Results"}(O||(O={}));var C={activePane:O.GetStarted,videoGranted:!1,audioGranted:!1,deviceError:null,preflightTest:{progress:null,report:null,error:null,tokenError:null,signalingGatewayReachable:!1,turnServersReachable:!1},twilioStatus:null,twilioStatusError:null,videoInputTestReport:null,audioInputTestReport:null,audioOutputTestReport:null,downButtonDisabled:!1,preflightTestInProgress:!1,preflightTestFinished:!1,bitrateTest:{bitrate:null,report:null,error:null},bitrateTestInProgress:!1,bitrateTestFinished:!1},w=Object(s.createContext)(null);function y(){var e=Object(s.useContext)(w);if(!e)throw new Error("useAppStateContext must be used within an AppStateProvider");return e}var I=Object(j.b)((function(e,t){switch(t.type){case"set-active-pane":e.activePane=t.newActivePane;break;case"next-pane":switch(e.activePane){case O.GetStarted:e.audioGranted&&e.videoGranted?e.activePane=O.CameraTest:e.activePane=O.DeviceCheck;break;case O.DeviceCheck:e.deviceError?e.activePane=O.DeviceError:e.activePane=O.CameraTest;break;default:e.activePane++}break;case"previous-pane":switch(e.activePane){case O.CameraTest:e.audioGranted&&e.videoGranted?e.activePane=O.GetStarted:e.activePane=O.DeviceCheck;break;default:e.activePane--}break;case"set-devices":e.audioGranted=t.devices.filter((function(e){return"audioinput"===e.kind})).every((function(e){return e.label})),e.videoGranted=t.devices.filter((function(e){return"videoinput"===e.kind})).every((function(e){return e.label}));break;case"set-device-error":e.deviceError=t.error,e.activePane=O.DeviceError;break;case"preflight-progress":e.preflightTest.progress=t.progress,"dtlsConnected"!==t.progress&&"peerConnectionConnected"!==t.progress||(e.preflightTest.signalingGatewayReachable=!0),"mediaAcquired"===t.progress&&(e.preflightTest.turnServersReachable=!0);break;case"preflight-completed":e.preflightTest.report=t.report,e.preflightTest.progress=null;break;case"preflight-failed":e.preflightTest.error=t.error,e.preflightTest.progress=null;break;case"preflight-token-failed":e.preflightTest.tokenError=t.error;break;case"set-twilio-status":e.twilioStatus=t.statusObj;break;case"set-twilio-status-error":e.twilioStatusError=t.error;break;case"set-video-test-report":e.videoInputTestReport=t.report;break;case"set-audio-input-test-report":e.audioInputTestReport=t.report;break;case"set-audio-output-test-report":e.audioOutputTestReport=t.report;break;case"preflight-started":e.preflightTestInProgress=!0,e.preflightTestFinished=!1;break;case"preflight-finished":e.preflightTestFinished=!0,e.preflightTestInProgress=!1;break;case"set-bitrate":e.bitrateTest.bitrate=t.bitrate;break;case"set-bitrate-test-report":e.bitrateTest.report=t.report;break;case"set-bitrate-test-error":e.bitrateTest.error=t.error;break;case"bitrate-test-started":e.bitrateTestInProgress=!0,e.bitrateTestFinished=!1;break;case"bitrate-test-finished":e.bitrateTestFinished=!0,e.bitrateTestInProgress=!1}var i=Object(j.a)(e);e.downButtonDisabled=function(e){var t=e.activePane,i=e.preflightTestInProgress,n=e.preflightTest,r=e.bitrateTestInProgress,a=e.audioInputTestReport,o=e.audioOutputTestReport,s=e.videoInputTestReport,c=t===O.Connectivity&&(i||r||null!==n.error),l=!!(null===a||void 0===a?void 0:a.errors.length)||!!(null===o||void 0===o?void 0:o.errors.length)||!!(null===s||void 0===s?void 0:s.errors.length),d=t===O.DeviceCheck||t===O.DeviceError,u=t===O.BrowserTest&&!h.a.isSupported;return c||!O[t+1]||l||d||u}(i)})),A=function(e){var t=e.children,i=Object(s.useReducer)(I,C),n=Object(u.a)(i,2),r=n[0],a=n[1],o=function(e){var t=Object(s.useRef)();return{startPreflightTest:Object(s.useCallback)((function(){if(!t.current)return e({type:"preflight-started"}),x()("app/token").then((function(i){var n=Object(b.runPreflight)(i.data.token);t.current=n,n.on("progress",(function(t){e({type:"preflight-progress",progress:t})})),n.on("completed",(function(t){e({type:"preflight-completed",report:t}),e({type:"preflight-finished"})})),n.on("failed",(function(t){e({type:"preflight-failed",error:t}),e({type:"preflight-finished"})}))})).catch((function(t){e({type:"preflight-token-failed",error:t}),e({type:"preflight-finished"})}))}),[e])}}(a).startPreflightTest,c=function(e){var t=Object(s.useRef)();return{startBitrateTest:Object(s.useCallback)((function(){if(!t.current)return e({type:"bitrate-test-started"}),x()("app/turn-credentials").then((function(i){var n=Object(m.testMediaConnectionBitrate)({iceServers:i.data.iceServers});t.current=n,n.on(m.MediaConnectionBitrateTest.Events.Bitrate,(function(t){e({type:"set-bitrate",bitrate:t})})),n.on(m.MediaConnectionBitrateTest.Events.Error,(function(t){e({type:"set-bitrate-test-error",error:t}),e({type:"bitrate-test-finished"})})),n.on(m.MediaConnectionBitrateTest.Events.End,(function(t){e({type:"set-bitrate-test-report",report:t}),e({type:"bitrate-test-finished"})})),setTimeout((function(){n.stop()}),15e3)})).catch((function(t){e({type:"set-bitrate-test-error",error:t}),e({type:"bitrate-test-finished"})}))}),[e])}}(a).startBitrateTest,j=function(e){return{getTwilioStatus:Object(s.useCallback)((function(){return x()("https://status.twilio.com/api/v2/components.json").then((function(t){var i={},n=["Group Rooms","Peer-to-Peer Rooms","Compositions","Recordings","Network Traversal Service","Go Rooms"];t.data.components.forEach((function(e){var t=e.name,r=e.status;n.includes(t)&&(i[t]=r)})),e({type:"set-twilio-status",statusObj:i})})).catch((function(t){e({type:"set-twilio-status-error",error:t})}))}),[e])}}(a).getTwilioStatus,h=(new v.a).getResult(),p=Object(s.useCallback)((function(){switch(r.activePane){case O.GetStarted:c(),o(),j(),a({type:"next-pane"});break;default:a({type:"next-pane"})}}),[c,o,j,r,a]);return Object(s.useEffect)((function(){navigator.mediaDevices.enumerateDevices().then((function(e){return a({type:"set-devices",devices:e})}))}),[]),Object(f.jsx)(w.Provider,{value:{state:r,dispatch:a,nextPane:p,userAgentInfo:h,downloadFinalTestResults:function(){var e,t,i=r.preflightTest.signalingGatewayReachable?"Reachable":"Unreachable",n=r.preflightTest.turnServersReachable?"Reachable":"Unreachable",a=(null===(e=r.bitrateTest.report)||void 0===e?void 0:e.values)?Math.max.apply(Math,Object(d.a)(r.bitrateTest.report.values)):0,o={audioTestResults:{inputTest:r.audioInputTestReport,outputTest:r.audioOutputTestReport},bitrateTestResults:Object(l.a)({maxBitrate:a},r.bitrateTest.report),browserInformation:h,connectivityResults:{twilioServices:Object(l.a)({},r.twilioStatus),signalingRegion:i,TURN:n},preflightTestReport:{report:r.preflightTest.report,error:(null===(t=r.preflightTest.error)||void 0===t?void 0:t.message)||null},videoTestResults:r.videoInputTestReport},s=document.createElement("a");s.download="test_results.json",s.href=URL.createObjectURL(new Blob([JSON.stringify(o,null,2)],{type:"text/plain"})),s.click()}},children:t})},k=i(26);function R(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 6.29289C9.31658 5.90237 8.68342 5.90237 8.29289 6.29289C7.93241 6.65338 7.90468 7.22061 8.2097 7.6129L8.29289 7.70711L10.585 10L8.29289 12.2929C7.93241 12.6534 7.90468 13.2206 8.2097 13.6129L8.29289 13.7071C8.65338 14.0676 9.22061 14.0953 9.6129 13.7903L9.70711 13.7071L12.7071 10.7071C13.0676 10.3466 13.0953 9.77939 12.7903 9.3871L12.7071 9.29289L9.70711 6.29289Z",fill:"#606B85"})})}var T=i(4),B=i(377),L=i(101),M=i(379),S=Object(a.a)((function(e){return Object(o.a)({header:{position:"absolute",left:0,right:0,top:0,bottom:"calc(100% - ".concat(e.navHeight,"px)"),display:"flex",justifyContent:"center",zIndex:100,background:"inherit"},breadcrumb:{"& p":{fontWeight:600,color:"#AEB2C1",paddingRight:"2em"},"&:last-child svg":{display:"none"}},active:{"& p":{color:e.typography.body1.color}},progressBar:{position:"absolute",left:0,right:0,bottom:0,top:"calc(100% - 2px)",background:"#CACDD8"},progressBarForeground:{background:e.palette.primary.main,width:"0",height:"100%",transition:"width 1s ease"}})}));function N(e){var t=e.label,i=e.pane,n=S(),r=y().state;return Object(f.jsx)("div",{className:Object(T.a)(n.breadcrumb,Object(k.a)({},n.active,r.activePane>=i)),children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",children:[Object(f.jsx)(L.a,{variant:"body1",children:t}),Object(f.jsx)(R,{})]})})}function E(){var e=S(),t=y().state,i=Object.keys(O).length/2;return Object(f.jsxs)("div",{className:e.header,children:[Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",style:{height:"100%"},children:[Object(f.jsx)(N,{pane:O.DeviceCheck,label:"Device & Software Setup"}),Object(f.jsx)(N,{pane:O.Connectivity,label:"Connectivity"}),Object(f.jsx)(N,{pane:O.Quality,label:"Quality & Performance"}),Object(f.jsx)(N,{pane:O.Results,label:"Get Results"})]})}),Object(f.jsx)("div",{className:e.progressBar,children:Object(f.jsx)("div",{className:e.progressBarForeground,style:{width:"".concat(t.activePane/(i-1)*100,"%")}})})]})}var F=i(32),D=i(386);function P(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.90959 14.9914L9.95991 14.9983L10.0406 14.9982L10.1108 14.9871L10.1389 14.978C10.2517 14.9455 10.3475 14.8715 10.4114 14.7733L13.8548 10.941C14.0484 10.7257 14.0484 10.3767 13.8548 10.1614C13.6828 9.9701 13.4158 9.94884 13.2226 10.0977L13.154 10.1614L10.495 13.118L10.4956 5.51268C10.4956 5.22954 10.2737 5 10 5C9.7567 5 9.55435 5.18136 9.51239 5.42053L9.5044 5.51268L9.504 13.117L6.84604 10.1614C6.674 9.9701 6.40695 9.94884 6.2138 10.0977L6.14516 10.1614C5.97312 10.3528 5.954 10.6498 6.08781 10.8646L6.14516 10.941L9.58863 14.7733C9.65251 14.8715 9.74834 14.9455 9.86069 14.9795L9.90959 14.9914Z",fill:"#606B85"})})}function V(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.51239 14.5795C9.55435 14.8186 9.7567 15 10 15C10.2737 15 10.4956 14.7705 10.4956 14.4873V6.88192L13.154 9.83856L13.2226 9.90234C13.4158 10.0512 13.6828 10.0299 13.8548 9.83856C14.0484 9.6233 14.0484 9.2743 13.8548 9.05904L10.4169 5.23538C10.3287 5.09377 10.1749 5 10 5C9.82505 5 9.67128 5.09377 9.58308 5.23538L6.14516 9.05904L6.08781 9.13538C5.954 9.3502 5.97312 9.64722 6.14516 9.83856L6.2138 9.90234C6.40695 10.0512 6.674 10.0299 6.84604 9.83856L9.5044 6.88324V14.4873L9.51239 14.5795Z",fill:"#606B85"})})}var H=i(385),z=i(380),Y=i(399),G=i(406);function W(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2472 2.51662L17.4834 8.75277C18.1722 9.4416 18.1722 10.5584 17.4834 11.2472L11.2472 17.4834C10.5584 18.1722 9.4416 18.1722 8.75277 17.4834L2.51662 11.2472C1.82779 10.5584 1.82779 9.4416 2.51662 8.75277L8.75277 2.51662C9.4416 1.82779 10.5584 1.82779 11.2472 2.51662ZM11 13C11 13.5523 10.5523 14 10 14C9.44772 14 9 13.5523 9 13C9 12.4477 9.44772 12 10 12C10.5523 12 11 12.4477 11 13ZM9.98975 7H10.0101C10.621 7.0074 11.0826 7.59236 10.9876 8.24396L10.5599 10.4817C10.5192 10.7779 10.2816 11 10.0033 11H9.99653C9.71823 11 9.48066 10.7779 9.43993 10.4817L9.01229 8.24396C8.91726 7.59236 9.38562 7 9.98975 7Z",fill:"#D61F1F"})})}function Z(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),i=t[0],n=t[1];return Object(s.useEffect)((function(){var e=function(){return navigator.mediaDevices.enumerateDevices().then((function(e){return n(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),{audioInputDevices:i.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:i.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:i.filter((function(e){return"audiooutput"===e.kind}))}}var Q={audioinput:{audioLevelText:"Input level",headerText:"Microphone"},audiooutput:{audioLevelText:"Output level",headerText:"Speaker"}},X=Object(a.a)({form:{margin:"0.5em 0 1em"},deviceLabelContainer:{margin:"0.8em 0"},deviceList:{height:"36px"},error:{display:"flex",alignItems:"center",marginBottom:"1em","& svg":{marginRight:"0.3em"}}});function q(e){var t=e.disabled,i=e.kind,n=e.onDeviceChange,r=e.setDeviceError,a=e.error,o=X(),c=Z(),l="audiooutput"===i?c.audioOutputDevices:c.audioInputDevices,d=Object(s.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Q[i].headerText,v=!Audio.prototype.setSinkId&&"audiooutput"===i,g=Object(s.useCallback)((function(e){n(e),h(e),r("")}),[n,h,r]);return Object(s.useEffect)((function(){var e=l.some((function(e){return e.deviceId===b}));l.length&&!e&&g(l[0].deviceId)}),[l,c,b,g]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L.a,{variant:"subtitle2",children:Object(f.jsx)("strong",{children:p})}),v&&Object(f.jsx)("div",{className:o.deviceLabelContainer,children:Object(f.jsx)(L.a,{variant:"body1",children:"System Default Audio Output"})}),!v&&Object(f.jsx)(z.a,{variant:"outlined",disabled:t,className:o.form,fullWidth:!0,children:Object(f.jsx)(Y.a,{value:b,onChange:function(e){return g(e.target.value)},className:o.deviceList,children:l.map((function(e){return Object(f.jsx)(G.a,{value:e.deviceId,children:e.label},e.deviceId)}))})}),a&&Object(f.jsxs)("div",{className:o.error,children:[Object(f.jsx)(W,{}),Object(f.jsx)(L.a,{variant:"subtitle2",color:"error",children:"No audio detected"===a?"No audio detected.":"Unable to connect."})]})]})}var K=c.a.memo(q),U=i(173),J=Object(a.a)({container:{position:"relative",margin:"0 0.2em 0",height:"4px","& div":{position:"absolute",top:0,bottom:0,left:0}},progress:{background:"#14B053",right:"100%"},background:{right:0,background:Object(U.alpha)("#E1E3EA",.2)}});function _(e){var t=e.duration,i=e.position,n=e.style,r=J(),a=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=a.current;e&&window.requestAnimationFrame((function(){e.style.transition="right ".concat(t,"s linear"),e.style.right="".concat(Math.max(0,100-i),"%")}))}),[t,i]),Object(f.jsxs)("div",{className:r.container,style:Object(l.a)({},n),children:[Object(f.jsx)("div",{className:r.progress,ref:a,"data-testid":"progressBar"}),Object(f.jsx)("div",{className:r.background})]})}var $=i(174),ee=i(175).a;function te(e){return 100*e/200}var ie,ne,re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round((e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)},ae=Object($.getLogger)(ee),oe=function(e){var t="An unknown error has occurred";return e&&(t=e.domError?e.domError.toString():e.message),t};function se(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),i=t[0],n=t[1],r=Object(s.useState)(!1),a=Object(u.a)(r,2),o=a[0],c=a[1],d=Object(s.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Object(s.useState)(0),v=Object(u.a)(p,2),g=v[0],x=v[1],O=Object(s.useState)(0),f=Object(u.a)(O,2),C=f[0],w=f[1],I=Object(s.useState)(""),A=Object(u.a)(I,2),k=A[0],R=A[1],T=Object(s.useState)(""),B=Object(u.a)(T,2),L=B[0],M=B[1],S=y().dispatch,N=Object(s.useCallback)((function(e){ae.debug("AudioOutputTest running"),e=Object(l.a)({doLoop:!1},e),ne=Object(m.testAudioOutputDevice)(e),h(!0),ne.on(m.AudioOutputTest.Events.Volume,(function(e){w(te(e))})),ne.on(m.AudioOutputTest.Events.End,(function(e){h(!1),w(0),0===function(e){if(e.length<=0)return 0;var t=e.reduce((function(e,t){return e+t}),0)/e.length,i=e.map((function(e){return Math.pow(e-t,2)})),n=Math.sqrt(i.reduce((function(e,t){return e+t}),0)/i.length);return re(n)}(e.values)&&M("No audio detected"),ae.debug("AudioOutputTest ended",e),S({type:"set-audio-output-test-report",report:e})})),ne.on(m.AudioOutputTest.Events.Error,(function(e){ae.debug("error",e),M(oe(e))}))}),[S]),E=Object(s.useCallback)((function(e){ie&&ie.stop(),ae.debug("AudioInputTest running");var t=e.enableRecording?4e3:2e4;e=Object(l.a)({duration:t},e),ie=Object(m.testAudioInputDevice)(e),c(!0),e.enableRecording&&(ae.debug("Recording audio"),n(!0)),ie.on(m.AudioInputTest.Events.Volume,(function(e){x(te(e))})),ie.on(m.AudioInputTest.Events.End,(function(e){k&&e.recordingUrl&&URL.revokeObjectURL(k),e.recordingUrl&&R(e.recordingUrl),n(!1),c(!1),ae.debug("AudioInputTest ended",e),S({type:"set-audio-input-test-report",report:e})})),ie.on(m.AudioInputTest.Events.Error,(function(e){ae.debug("error",e),M(oe(e))})),ie.on(m.AudioInputTest.Events.Warning,(function(e){ae.debug("warning",e)})),ie.on(m.AudioInputTest.Events.WarningCleared,(function(e){ae.debug("warning-cleared",e)}))}),[k,S]),F=Object(s.useCallback)((function(){ie&&(ie.stop(),x(0)),ne&&(ne.stop(),w(0))}),[]);return{error:L,setError:M,isRecording:i,isAudioInputTestRunning:o,isAudioOutputTestRunning:b,playAudio:N,playbackURI:k,readAudioInput:E,stopAudioTest:F,inputLevel:g,outputLevel:C}}function ce(){return Object(f.jsx)("svg",{width:"12",height:"17",viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11111 2.83333C3.11111 1.26812 4.37982 0 5.94444 0C7.51014 0 8.77778 1.26764 8.77778 2.83333V7.16667C8.77778 8.73129 7.50966 10 5.94444 10C4.3803 10 3.11111 8.73081 3.11111 7.16667V2.83333ZM7.77778 2.83333C7.77778 1.81992 6.95786 1 5.94444 1C4.932 1 4.11111 1.82051 4.11111 2.83333V7.16667C4.11111 8.17852 4.93259 9 5.94444 9C6.95727 9 7.77778 8.17911 7.77778 7.16667V2.83333ZM11.3889 6.66667C11.665 6.66667 11.8889 6.89052 11.8889 7.16667C11.8889 10.2813 9.49349 12.8365 6.44444 13.0904V15.7222C6.44444 15.9984 6.22059 16.2222 5.94444 16.2222C5.69898 16.2222 5.49484 16.0453 5.4525 15.8121L5.44444 15.7222V13.0904C2.3954 12.8365 0 10.2813 0 7.16667C0 6.89052 0.223858 6.66667 0.5 6.66667C0.776142 6.66667 1 6.89052 1 7.16667C1 9.89741 3.2137 12.1111 5.94444 12.1111C8.67519 12.1111 10.8889 9.89741 10.8889 7.16667C10.8889 6.89052 11.1127 6.66667 11.3889 6.66667Z",fill:"#4B5671"})})}var le=c.a.memo(ce);function de(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.12991 4.22311L5.26525 7.71535H3.41149C2.62537 7.71535 2 8.24395 2 9.00737V10.8531L2.00578 10.9807C2.0708 11.6993 2.67643 12.3297 3.41149 12.3297H5.26619L9.14319 15.7851C9.355 15.9926 9.69858 16.0603 9.99016 15.9419C10.2851 15.8223 10.4683 15.5399 10.4689 15.2313L10.4689 4.77139C10.4683 4.46179 10.2851 4.17862 9.99016 4.05894C9.69858 3.94059 9.355 4.00305 9.12991 4.22311ZM9.52795 5.11655V14.9267L5.76921 11.529C5.68232 11.4504 5.56848 11.4068 5.45031 11.4068H3.41149C3.18194 11.4068 2.94099 11.1379 2.94099 10.8531V9.00737C2.94099 8.78663 3.11657 8.63822 3.41149 8.63822H5.45031C5.56848 8.63822 5.68232 8.59461 5.76921 8.51606L9.52795 5.11655ZM15.6532 4.66938C15.4624 4.49642 15.1647 4.50793 14.9884 4.69509C14.812 4.88225 14.8237 5.17419 15.0146 5.34715C16.3179 6.5284 17.059 8.18978 17.059 9.93024C17.059 11.6707 16.3179 13.3321 15.0146 14.5133C14.8237 14.6863 14.812 14.9782 14.9884 15.1654C15.1647 15.3526 15.4624 15.3641 15.6532 15.1911C17.1493 13.8352 18 11.9281 18 9.93024C18 7.93239 17.1493 6.02532 15.6532 4.66938ZM13.0961 5.95963C13.2533 5.7567 13.5484 5.71716 13.7554 5.87132C15.049 6.83518 15.8087 8.33688 15.8087 9.93024C15.8087 11.5236 15.049 13.0253 13.7554 13.9892C13.5484 14.1433 13.2533 14.1038 13.0961 13.9009C12.9389 13.6979 12.9792 13.4085 13.1861 13.2543C14.2456 12.4649 14.8678 11.2351 14.8678 9.93024C14.8678 8.62536 14.2456 7.39554 13.1861 6.60619C12.9792 6.45203 12.9389 6.16255 13.0961 5.95963ZM12.1572 7.4037C11.947 7.25381 11.6528 7.29937 11.4999 7.50546C11.3471 7.71156 11.3936 8.00015 11.6037 8.15005C13.0228 9.1623 13.0216 10.6997 11.6038 11.7104C11.3936 11.8602 11.3471 12.1488 11.4999 12.3549C11.6526 12.5611 11.9469 12.6067 12.1571 12.4569C14.0915 11.0779 14.0933 8.78475 12.1572 7.4037Z",fill:"#606B85"})})}var ue=c.a.memo(de),je=Object(a.a)({paper:{display:"inline-block",padding:"23px",borderRadius:"8px",minHeight:"280px",width:"300px"},audioLevelContainer:{display:"flex",alignItems:"left",height:"2.5em"},topLine:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}});function be(){var e=je(),t=Object(s.useState)(""),i=Object(u.a)(t,2),n=i[0],r=i[1],a=Object(s.useState)(""),o=Object(u.a)(a,2),c=o[0],l=o[1],d=Object(s.useRef)(""),j=y(),b=j.state,h=j.dispatch,p=se(),v=p.error,g=p.setError,x=p.isRecording,m=p.isAudioInputTestRunning,C=p.isAudioOutputTestRunning,w=p.playAudio,I=p.playbackURI,A=p.readAudioInput,k=p.stopAudioTest,R=p.inputLevel,T=p.outputLevel,S=C?T:R,N=x||C||!!v&&"No audio detected"!==v;return Object(s.useEffect)((function(){b.activePane!==O.AudioTest&&(C||m)&&k()}),[b.activePane,k,m,C]),Object(s.useEffect)((function(){if(b.activePane===O.AudioTest){var e=d.current!==n;d.current=n,v||!e&&(x||m)||A({deviceId:n})}v&&k()}),[v,b.activePane,n,x,m,A,h,k]),Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Test your audio"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"Record an audio clip and play it back to check that your microphone and speaker are working. If they aren't, make sure your volume is turned up, try a different speaker or microphone, or check your bluetooth settings."}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:Object(f.jsx)("strong",{children:" Does your audio sound good?"})}),Object(f.jsx)(D.a,{variant:"contained",style:{marginRight:"1.5em"},color:"primary",onClick:function(){return h({type:"next-pane"})},disabled:!!v&&"No audio detected"!==v,children:"Yes"}),Object(f.jsx)(D.a,{color:"primary",onClick:function(){return h({type:"next-pane"})},disabled:!!v&&"No audio detected"!==v,children:"Skip for now"})]}),"\u200b",Object(f.jsx)(B.a,{item:!0,md:5,children:Object(f.jsxs)(H.a,{className:e.paper,children:[Object(f.jsxs)("div",{className:e.topLine,children:[Object(f.jsx)(L.a,{variant:"subtitle2",children:Object(f.jsx)("strong",{children:"Audio"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(D.a,{variant:"outlined",style:{marginRight:"1em"},size:"small",disabled:N,onClick:function(){A({deviceId:n,enableRecording:!0})},children:"Record"}),Object(f.jsx)(D.a,{variant:"outlined",size:"small",disabled:!I||N,onClick:function(){w({deviceId:c,testURI:I})},children:"Play back"})]})]}),"\u200b",Object(f.jsx)(K,{disabled:N,kind:"audiooutput",onDeviceChange:l,setDeviceError:g}),Object(f.jsx)(K,{disabled:N,kind:"audioinput",onDeviceChange:r,setDeviceError:g,error:v}),Object(f.jsxs)("div",{className:e.audioLevelContainer,children:[Object(f.jsx)("div",{style:{width:"2em",display:"flex",justifyContent:"center"},children:C?Object(f.jsx)(ue,{}):Object(f.jsx)(le,{})}),Object(f.jsx)(_,{position:S,duration:.1,style:{flex:"1"}})]})]})})]})})}var he=Object(a.a)({paper:{padding:"1.5em",borderRadius:"8px",width:"300px"},paperContainer:{display:"flex",flexDirection:"column",alignItems:"center"}});function pe(){var e=y(),t=e.dispatch,i=e.userAgentInfo,n=he(),r=i.browser,a=i.os;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Browser supported"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"Looks like your browser is good to go. We're almost done!"}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){return t({type:"next-pane"})},style:{marginRight:"1.5em"},children:"Ok"})]}),Object(f.jsx)(B.a,{item:!0,md:5,className:n.paperContainer,children:Object(f.jsxs)(H.a,{className:n.paper,children:[Object(f.jsxs)(L.a,{variant:"body1",children:[Object(f.jsx)("strong",{children:"Browser: "}),r.name," ",r.version]}),"\u200b",Object(f.jsxs)(L.a,{variant:"body1",children:[Object(f.jsx)("strong",{children:"Operating System: "}),a.name," ",a.version]})]})})]})})})}var ve=i(401),ge=i(393),xe=i(394),me=i(392);function Oe(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6812 3.59414C14.6188 2.97958 14.0998 2.5 13.4688 2.5H3.71875L3.59414 2.50629C2.97958 2.5687 2.5 3.08772 2.5 3.71875V13.4688L2.50629 13.5934C2.5687 14.2079 3.08772 14.6875 3.71875 14.6875H5.3125V16.0938C5.3125 16.8704 5.9421 17.5 6.71875 17.5H16.0938C16.8704 17.5 17.5 16.8704 17.5 16.0938V6.71875C17.5 5.9421 16.8704 5.3125 16.0938 5.3125H14.6875V3.71875L14.6812 3.59414ZM13.75 5.3125V3.71875C13.75 3.58561 13.6575 3.47408 13.5332 3.44493L13.4688 3.4375H3.71875C3.58561 3.4375 3.47408 3.53001 3.44493 3.65426L3.4375 3.71875V13.4688C3.4375 13.6019 3.53001 13.7134 3.65426 13.7426L3.71875 13.75H5.3125V6.71875C5.3125 5.9421 5.9421 5.3125 6.71875 5.3125H13.75ZM6.71875 6.25H16.0938C16.3526 6.25 16.5625 6.45987 16.5625 6.71875V16.0938C16.5625 16.3526 16.3526 16.5625 16.0938 16.5625H6.71875C6.45987 16.5625 6.25 16.3526 6.25 16.0938V6.71875C6.25 6.45987 6.45987 6.25 6.71875 6.25Z",fill:"#606B85"})})}function fe(){return Object(f.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7461 1.52332L22.4767 10.2539C23.4411 11.2183 23.4411 12.7818 22.4767 13.7462L13.7461 22.4768C12.7818 23.4411 11.2182 23.4411 10.2539 22.4768L1.52327 13.7462C0.55891 12.7818 0.55891 11.2183 1.52327 10.2539L10.2539 1.52332C11.2182 0.55896 12.7818 0.55896 13.7461 1.52332ZM13.4 16.2C13.4 16.9732 12.7732 17.6 12 17.6C11.2268 17.6 10.6 16.9732 10.6 16.2C10.6 15.4269 11.2268 14.8 12 14.8C12.7732 14.8 13.4 15.4269 13.4 16.2ZM11.9856 7.80005H12.0142C12.8694 7.81042 13.5156 8.62935 13.3826 9.54159L12.7839 12.6744C12.7269 13.0891 12.3943 13.4 12.0047 13.4H11.9951C11.6055 13.4 11.2729 13.0891 11.2159 12.6744L10.6172 9.54159C10.4842 8.62935 11.1399 7.80005 11.9856 7.80005Z",fill:"#D61F1F"})})}var Ce=i(387),we=i(388),ye=i(389),Ie=i(390),Ae=i(391),ke=Object(a.a)({tableHead:{background:"#F4F4F6"},table:{"& td":{padding:"0.9em"}}});function Re(){var e=ke();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(Ce.a,{className:e.table,children:[Object(f.jsx)(we.a,{className:e.tableHead,children:Object(f.jsx)(ye.a,{children:Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Supported browsers"})})})})}),Object(f.jsxs)(Ae.a,{children:[Object(f.jsx)(ye.a,{children:Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)(me.a,{color:"inherit",underline:"always",target:"_blank",rel:"noopener",href:"https://www.google.com/chrome/",children:"Chrome"})})})}),Object(f.jsx)(ye.a,{children:Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)(me.a,{color:"inherit",underline:"always",target:"_blank",rel:"noopener",href:"https://www.mozilla.org/en-US/firefox/new/",children:"Firefox"})})})}),Object(f.jsx)(ye.a,{children:Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)(me.a,{color:"inherit",underline:"always",target:"_blank",rel:"noopener",href:"https://support.apple.com/downloads/safari",children:"Safari"})})})}),Object(f.jsx)(ye.a,{children:Object(f.jsx)(Ie.a,{style:{borderBottom:"none"},children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)(me.a,{color:"inherit",underline:"always",target:"_blank",rel:"noopener",href:"https://www.microsoft.com/en-us/edge",children:"Edge"})})})})]})]})})}var Te=Object(a.a)({paper:{padding:"1.5em",borderRadius:"8px",width:"388px"},paperContainer:{display:"flex",flexDirection:"column",alignItems:"center"},copyButton:{borderLeft:"solid 1px #E1E3EA",maxHeight:"2.5em",display:"flex"},errorIcon:{position:"absolute",right:"calc(100% + 18px)"},caption:{marginTop:"1.3em"}});function Be(){var e=Te(),t=window.location.href;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsxs)(L.a,{variant:"h1",gutterBottom:!0,style:{position:"relative"},children:[Object(f.jsx)("div",{className:e.errorIcon,children:Object(f.jsx)(fe,{})})," ","New browser needed"]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"Oh no, your browser isn't supported! Download and install a new one from the list, copy this url and paste it into your new browser to restart the test."}),Object(f.jsx)(ve.a,{fullWidth:!0,id:"read-only-app-link",defaultValue:t,variant:"outlined",size:"small",InputProps:{endAdornment:Object(f.jsx)(ge.a,{position:"end",children:Object(f.jsx)("div",{className:e.copyButton,children:Object(f.jsx)(xe.a,{edge:"end",onClick:function(){navigator.clipboard.writeText(t)},children:Object(f.jsx)(Oe,{})})})}),readOnly:!0}})]}),"\u200b",Object(f.jsxs)(B.a,{item:!0,md:5,className:e.paperContainer,children:[Object(f.jsx)(H.a,{className:e.paper,children:Object(f.jsx)(Re,{})}),Object(f.jsxs)(L.a,{variant:"caption",align:"center",className:e.caption,children:["We support the most recent and the two previous versions. Please"," ",Object(f.jsx)(me.a,{color:"inherit",underline:"always",target:"_blank",rel:"noopener",href:"https://www.twilio.com/docs/video/javascript#supported-browsers",children:"visit our docs"})," ","for more details."]})]})]})})})}function Le(){return Object(f.jsx)(f.Fragment,{children:h.a.isSupported?Object(f.jsx)(pe,{}):Object(f.jsx)(Be,{})})}var Me=Object(a.a)({paper:{padding:"1em",borderRadius:"8px",width:"300px"},videoContainer:{display:"flex",flexDirection:"column",alignItems:"center"},mobileAspectRatioContainer:{"@media (max-width:600px)":{minHeight:"300px"}},aspectRatioContainer:{position:"relative",display:"flex",width:"99%",padding:"5px",margin:"1em 0","&::after":{content:'""',paddingTop:"56.25%"},"& video":{position:"absolute",height:"100%",width:"100%",objectFit:"cover",top:0,right:0,bottom:0,left:0}},error:{display:"flex",alignItems:"center",margin:"0.5em 0","& svg":{marginRight:"0.3em"}}});function Se(){var e=Me(),t=Z().videoInputDevices,i=y(),n=i.state,r=i.dispatch,a=function(){var e=y().dispatch,t=Object(s.useState)(),i=Object(u.a)(t,2),n=i[0],r=i[1],a=Object(s.useRef)(null),o=Object(s.useState)(),c=Object(u.a)(o,2),l=c[0],d=c[1],j=Object(s.useCallback)((function(){r(void 0),null===n||void 0===n||n.stop()}),[n]);return{startVideoTest:Object(s.useCallback)((function(t){j();var i=Object(m.testVideoInputDevice)({element:a.current,deviceId:t});r(i),i.on(m.VideoInputTest.Events.Error,(function(e){return d(e)})),i.on(m.VideoInputTest.Events.End,(function(t){return e({type:"set-video-test-report",report:t})}))}),[j,e]),stopVideoTest:j,videoElementRef:a,videoTest:n,videoTestError:l}}(),o=a.videoElementRef,c=a.startVideoTest,l=a.stopVideoTest,d=a.videoTest,j=a.videoTestError,b=Object(s.useRef)(""),h=Object(s.useState)(""),p=Object(u.a)(h,2),v=p[0],g=p[1];return Object(s.useEffect)((function(){n.activePane!==O.CameraTest&&d&&(l(),b.current="")}),[n.activePane,l,d]),Object(s.useEffect)((function(){if(n.activePane===O.CameraTest){var e=b.current!==v;b.current=v,v&&e&&c(v),j&&l()}}),[n.activePane,v,c,l,j,r]),Object(s.useEffect)((function(){var e=t.some((function(e){return e.deviceId===v}));t.length&&!e&&g(t[0].deviceId)}),[t,v]),Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Check your video"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"Move in front of your camera to make sure it\u2019s working. If you don't see your video, try changing the selected camera. If the camera isn\u2019t part of your computer, check your settings to make sure your system recognizes it."}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:Object(f.jsx)("strong",{children:"Does your video look ok?"})}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){return r({type:"next-pane"})},style:{marginRight:"1.5em"},disabled:!!j,children:"Yes"}),Object(f.jsx)(D.a,{color:"primary",onClick:function(){return r({type:"next-pane"})},disabled:!!j,children:"Skip for now"})]}),Object(f.jsx)(B.a,{item:!0,md:5,children:Object(f.jsxs)(H.a,{className:Object(T.a)(e.paper),children:[Object(f.jsxs)(B.a,{container:!0,direction:"column",alignItems:"center",children:[Object(f.jsx)(L.a,{variant:"subtitle2",children:Object(f.jsx)("strong",{children:"Video Preview"})}),Object(f.jsx)("div",{className:Object(T.a)(e.aspectRatioContainer,e.mobileAspectRatioContainer),children:Object(f.jsx)("video",{loop:!0,muted:!0,playsInline:!0,autoPlay:!0,ref:o})})]}),Object(f.jsxs)(z.a,{fullWidth:!0,children:[Object(f.jsx)(L.a,{variant:"subtitle2",children:Object(f.jsx)("strong",{children:"Camera"})}),Object(f.jsx)(Y.a,{onChange:function(e){return t=e.target.value,void g(t);var t},value:v,variant:"outlined",disabled:!!j,children:t.map((function(e){return Object(f.jsx)(G.a,{value:e.deviceId,children:e.label},e.deviceId)}))})]}),j&&Object(f.jsxs)("div",{className:e.error,children:[Object(f.jsx)(W,{}),Object(f.jsx)(L.a,{variant:"subtitle2",color:"error",children:"Unable to connect."})]})]})})]})})}var Ne=i(71),Ee=i.n(Ne),Fe=i(100),De=i.p+"static/media/SettingsIllustration.8dc4c04e.png",Pe=Object(a.a)({paper:{display:"inline-block",padding:"23px",borderRadius:"8px"},grantPermissions:{fontSize:"16px",paddingBottom:"16px"},illustration:{height:"181px",width:"337px"}});function Ve(){var e=Pe(),t=y().dispatch,i=function(){var e=Object(Fe.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(function(){var e=Object(Fe.a)(Ee.a.mark((function e(t){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getTracks().forEach((function(e){e.stop()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:setTimeout((function(){return navigator.mediaDevices.dispatchEvent(new Event("devicechange"))}),500),t({type:"next-pane"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"set-device-error",error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:6,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Check permissions"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"If you haven't already, you'll see a pop-up to grant Twilio permissions to access your camera and microphone."}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:Object(f.jsx)("strong",{children:"Allow all permissions and re-fresh this page."})}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:i,children:"Request permissions"})]}),Object(f.jsx)(B.a,{item:!0,md:5,children:Object(f.jsxs)(H.a,{className:e.paper,children:[Object(f.jsx)(L.a,{variant:"body1",className:e.grantPermissions,children:Object(f.jsx)("strong",{children:"Grant permissions"})}),Object(f.jsx)("img",{src:De,alt:"Settings Illustration",className:e.illustration})]})})]})})}function He(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.625 3.5C10.625 3.15482 10.3452 2.875 10 2.875C9.65482 2.875 9.375 3.15482 9.375 3.5V11.9911L7.34194 9.95808C7.09787 9.714 6.70214 9.714 6.45806 9.95808C6.21398 10.2022 6.21398 10.5979 6.45806 10.842L9.58306 13.967C9.82714 14.211 10.2229 14.211 10.4669 13.967L13.5919 10.842C13.836 10.5979 13.836 10.2022 13.5919 9.95808C13.3479 9.714 12.9521 9.714 12.7081 9.95808L10.625 12.0411V3.5ZM2.875 16.5C2.875 16.1548 3.15482 15.875 3.5 15.875H16.5C16.8452 15.875 17.125 16.1548 17.125 16.5C17.125 16.8452 16.8452 17.125 16.5 17.125H3.5C3.15482 17.125 2.875 16.8452 2.875 16.5Z",fill:"white"})})}function ze(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1066 4.5C13.3588 4.5 16.5838 6.76775 18.5321 8.90985C18.8329 9.2418 18.9997 9.67365 19 10.1216C19.0003 10.5696 18.8342 11.0017 18.5339 11.334C16.5851 13.4788 13.3601 15.7479 10.1068 15.7479H9.87281C6.63682 15.7479 3.41357 13.4788 1.46766 11.3354C1.16696 11.0034 1.00029 10.5717 1 10.1238C0.999716 9.67591 1.16584 9.2439 1.46612 8.91161C3.43553 6.74403 6.71547 4.4631 9.99892 4.50088L10.003 4.50083C10.0375 4.50042 10.0723 4.5 10.1066 4.5ZM10.0908 14.623C12.9941 14.623 15.9153 12.5433 17.6997 10.5792V10.5791C17.8126 10.4535 17.8749 10.2905 17.8747 10.1217C17.8744 9.95277 17.8115 9.78998 17.6982 9.66476C15.9146 7.70369 12.9928 5.62488 10.109 5.62488C10.0933 5.62488 10.0776 5.62512 10.0619 5.62536C10.0409 5.62569 10.0199 5.62601 9.99892 5.62575C9.9775 5.62601 9.95645 5.62568 9.9355 5.62536C9.91992 5.62512 9.9044 5.62488 9.88885 5.62488C7.0035 5.62488 4.08365 7.70368 2.30034 9.66651C2.18743 9.7921 2.1251 9.9551 2.12538 10.124C2.12567 10.2929 2.18855 10.4557 2.30187 10.5809C4.10409 12.5661 7.06479 14.6722 9.98947 14.6221C10.0231 14.6225 10.0569 14.623 10.0908 14.623ZM9.99894 6.7489H10.0009C10.8954 6.74917 11.7531 7.10462 12.3855 7.73711C13.018 8.3696 13.3734 9.22736 13.3735 10.1218V10.1249C13.3722 11.0192 13.0162 11.8765 12.3838 12.5089C11.7513 13.1412 10.8939 13.497 9.9996 13.4982H9.99784C9.10284 13.498 8.24455 13.1423 7.61178 12.5094C6.97902 11.8764 6.62362 11.018 6.62377 10.123C6.62391 9.22797 6.97959 8.36968 7.61256 7.73692C8.24553 7.10416 9.10394 6.74876 9.99894 6.7489ZM11.5891 11.7135C12.0107 11.2919 12.2479 10.7203 12.2487 10.124L12.2487 10.1222C12.2487 9.52593 12.0118 8.95407 11.5902 8.53241C11.1686 8.11076 10.5967 7.87384 10.0005 7.87378H9.99915C9.40248 7.87366 8.8302 8.11057 8.4082 8.53239C7.98621 8.95422 7.74907 9.52641 7.74895 10.1231C7.74883 10.7197 7.98574 11.292 8.40757 11.714C8.82939 12.136 9.40158 12.3732 9.99825 12.3733H9.99957C10.5958 12.3724 11.1674 12.1352 11.5891 11.7135Z",fill:"#121C2D"})})}var Ye=Object(a.a)((function(e){return Object(o.a)({paper:{padding:"1.5em",borderRadius:"8px"},paperContainer:{display:"flex",flexDirection:"column",alignItems:"center"},errorIcon:{position:"absolute",right:"calc(100% + 18px)"},downloadButton:{marginTop:"2em","& svg":{position:"relative",left:"-5px"}},viewButton:{marginTop:"2em","& svg":{position:"relative",left:"-5px"}}})}));function Ge(e){var t=e.openModal,i=Ye(),n=y().downloadFinalTestResults;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsxs)(L.a,{variant:"h1",gutterBottom:!0,style:{position:"relative"},children:[Object(f.jsx)("div",{className:i.errorIcon,children:Object(f.jsx)(fe,{})}),"Connection failed"]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"It's possible that you're behind a firewall that will need to be updated by your network administrator."}),Object(f.jsx)(L.a,{variant:"body1",children:"Download report results to send to your network admin, update your internet, and re-run this test."}),Object(f.jsxs)(D.a,{variant:"contained",color:"primary",onClick:n,className:i.downloadButton,children:[Object(f.jsx)(He,{}),"Download report results"]})]}),Object(f.jsxs)(B.a,{item:!0,md:5,className:i.paperContainer,children:[Object(f.jsxs)(H.a,{className:i.paper,children:[Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"To conduct a video call, your internet needs to be able to communicate with Twilio's cloud."}),Object(f.jsxs)(L.a,{variant:"body1",children:["Learn"," ",Object(f.jsx)("a",{href:"https://www.twilio.com/docs/video/ip-addresses",target:"_blank",rel:"noopener noreferrer",children:"how to configure your firewall correctly"}),"."]})]}),Object(f.jsxs)(D.a,{variant:"outlined",onClick:t,className:i.viewButton,children:[Object(f.jsx)(ze,{}),"View detailed connection information"]})]})]})})})}var We=i(402),Ze=i(395),Qe=i(396),Xe=i(84),qe=i.n(Xe),Ke=function(){return Object(f.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("rect",{width:"20",height:"20",fill:"white",fillOpacity:"0.01"}),Object(f.jsx)("circle",{cx:"10",cy:"10",r:"6",fill:"#14B053"})]})},Ue=function(){return Object(f.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("path",{d:"M0 0H20V20H0V0Z",fill:"white",fillOpacity:"0.01"}),Object(f.jsx)("rect",{x:"10.0713",y:"3",width:"10",height:"10",transform:"rotate(45 10.0713 3)",fill:"#D61F1F"})]})},Je=function(){return Object(f.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("path",{d:"M0 0H20V20H0V0Z",fill:"white",fillOpacity:"0.01"}),Object(f.jsx)("rect",{x:"10.0713",y:"3",width:"10",height:"10",transform:"rotate(45 10.0713 3)",fill:"#F5A623"})]})},_e=Object(a.a)((function(e){return Object(o.a)({modal:{width:"100%"},content:{padding:"3em"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},iconContainer:{display:"flex",alignItems:"center","& svg":{marginRight:"0.3em"}}})})),$e={operational:{status:"Up",icon:Object(f.jsx)(Ke,{})},major_outage:{status:"Major Outage",icon:Object(f.jsx)(Ue,{})},partial_outage:{status:"Partial Outage",icon:Object(f.jsx)(Je,{})},degraded_performance:{status:"Degraded",icon:Object(f.jsx)(Je,{})}};function et(e){var t=e.status,i=e.serviceName,n=_e(),r=t?$e[t]:null;return Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:n.iconContainer,children:[null===r||void 0===r?void 0:r.icon,Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:null===r||void 0===r?void 0:r.status})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:i})})]})}function tt(e){var t=e.isModalOpen,i=e.setIsModalOpen,n=e.serviceStatuses,r=e.signalingGateway,a=e.turnServers,o=_e();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(We.a,{open:t,onClose:function(){return i(!1)},classes:{paper:o.modal},children:[Object(f.jsxs)(Ze.a,{disableTypography:!0,children:[Object(f.jsx)(L.a,{variant:"h3",children:"Detailed connection information"}),Object(f.jsx)(xe.a,{"aria-label":"close",className:o.closeButton,onClick:function(){return i(!1)},children:Object(f.jsx)(qe.a,{})})]}),Object(f.jsx)(Qe.a,{dividers:!0,className:o.content,children:Object(f.jsxs)(Ce.a,{children:[Object(f.jsx)(we.a,{children:Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Status"})})}),Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Type"})})})]})}),Object(f.jsxs)(Ae.a,{children:[Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n.Compositions,serviceName:"Compositions"}),Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n["Go Rooms"],serviceName:"Go Rooms"}),Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n["Group Rooms"],serviceName:"Group Rooms"}),Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n["Network Traversal Service"],serviceName:"Network Traversal"}),Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n["Peer-to-Peer Rooms"],serviceName:"Peer-to-Peer Rooms"}),Object(f.jsx)(et,{status:null===n||void 0===n?void 0:n.Recordings,serviceName:"Recordings"}),Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:o.iconContainer,children:["Reachable"===r?Object(f.jsx)(Ke,{}):Object(f.jsx)(Ue,{}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:r})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:"Signaling Gateway"})})]}),Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:o.iconContainer,children:["Reachable"===a?Object(f.jsx)(Ke,{}):Object(f.jsx)(Ue,{}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:a})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:"TURN Servers"})})]})]})]})})]})})}var it=i.p+"static/media/Success.89b9312e.png",nt=Object(a.a)((function(e){return Object(o.a)({illustrationContainer:{display:"flex",flexDirection:"column",alignItems:"center"},viewButton:{marginTop:"2em","& svg":{position:"relative",left:"-5px"}}})}));function rt(e){var t=e.openModal,i=nt(),n=y().nextPane;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Connection success"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"All connections to Twilio's servers are working correctly."}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:n,children:"Ok"})]}),Object(f.jsxs)(B.a,{item:!0,md:5,className:i.illustrationContainer,children:[Object(f.jsx)("img",{src:it,alt:"Success",style:{width:"245px",height:"200px"}}),Object(f.jsxs)(D.a,{variant:"outlined",onClick:t,className:i.viewButton,children:[Object(f.jsx)(ze,{}),"View detailed connection information"]})]})]})})})}function at(){return Object(f.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.75469 17.1915C5.27668 17.0676 4.99236 16.5901 5.11964 16.1249C6.90138 9.61316 12.9838 5 20.0075 5C25.877 5 31.1111 8.22361 33.7061 13.1244L34.2649 7.43001L34.2946 7.27377C34.4096 6.87105 34.8017 6.58782 35.2366 6.61943C35.7259 6.65499 36.0841 7.07557 36.0368 7.5588L35.215 15.9414L35.1819 16.1099C35.0368 16.5946 34.4946 16.883 33.9987 16.699L26.0765 13.7592L25.9333 13.6909C25.5757 13.4782 25.4181 13.0341 25.5803 12.6306L25.653 12.4877C25.877 12.1303 26.3314 11.9647 26.7371 12.1153L32.2339 14.1556C29.985 9.69468 25.2869 6.74328 20.0075 6.74328C13.8006 6.74328 8.42477 10.8205 6.85066 16.5735C6.73752 16.987 6.33725 17.2516 5.91397 17.2183L5.75469 17.1915ZM34.2457 22.8085L34.0864 22.7817C33.6631 22.7484 33.2628 23.013 33.1497 23.4265C31.5756 29.1795 26.1998 33.2567 19.9929 33.2567C14.7137 33.2567 10.0158 30.3056 7.76677 25.8451L13.2633 27.885C13.6691 28.0356 14.1234 27.87 14.3475 27.5125L14.4201 27.3697C14.5823 26.9662 14.4248 26.5221 14.0672 26.3094L13.9239 26.241L6.00169 23.3013C5.50582 23.1173 4.96368 23.4057 4.81853 23.8904L4.78546 24.0589L3.96368 32.4415C3.91631 32.9247 4.27455 33.3453 4.76384 33.3809C5.19876 33.4125 5.59083 33.1292 5.70586 32.7265L5.73555 32.5703L6.29363 26.8744C8.88845 31.7759 14.1229 35 19.9929 35C27.0166 35 33.099 30.3868 34.8807 23.8751C35.008 23.4099 34.7237 22.9324 34.2457 22.8085Z",fill:"#606B85"})})}var ot=Object(a.a)({container:{display:"flex",flexDirection:"column",alignItems:"center"},textBox:{width:"340px",height:"48px",textAlign:"center"},loading:{animation:"$loading 1.5s linear infinite",display:"flex"},"@keyframes loading":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}});function st(){var e=y().state,t=Object(s.useState)(!1),i=Object(u.a)(t,2),n=i[0],r=i[1],a=ot(),o=e.preflightTest.signalingGatewayReachable?"Reachable":"Unreachable",c=e.preflightTest.turnServersReachable?"Reachable":"Unreachable",l=e.preflightTestFinished&&(null!==e.preflightTest.error||!e.preflightTest.signalingGatewayReachable||!e.preflightTest.turnServersReachable);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(tt,{isModalOpen:n,setIsModalOpen:r,serviceStatuses:e.twilioStatus,signalingGateway:o,turnServers:c}),e.preflightTestInProgress||e.bitrateTestInProgress?Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,className:a.container,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Hang tight!"}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,className:a.textBox,children:"We're just finishing up your personalized results and creating your report."}),Object(f.jsx)("div",{className:a.loading,children:Object(f.jsx)(at,{})})]})}):l?Object(f.jsx)(Ge,{openModal:function(){return r(!0)}}):Object(f.jsx)(rt,{openModal:function(){return r(!0)}})]})}var ct=i.p+"static/media/Hello.8062e010.png";function lt(){var e=y().nextPane;return Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:"Let's get started."}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"We'll help you solve any video troubles you're experiencing but first, let's check your setup."}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:e,children:"Get started"})]}),Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)("img",{src:ct,alt:"Hello",style:{width:"284px",height:"284px"}}),Object(f.jsxs)(L.a,{variant:"body1",color:"textSecondary",children:[Object(f.jsx)("strong",{children:"Not sure about something?"})," Skip that section for now, and your support administrator can help later."]})]})]})})}var dt=i.p+"static/media/ErrorIllustration.8feaf07a.png",ut=Object(a.a)({heading:{position:"relative",marginTop:"20px"},paper:{display:"inline-block",padding:"23px",borderRadius:"8px"},grantPermissions:{fontSize:"16px",paddingBottom:"16px"},illustration:{height:"181px",width:"342px"},errorIcon:{position:"absolute",right:"calc(100% + 18px)"}});function jt(){var e=function(e){var t="",i="";switch(!0){case"NotAllowedError"===(null===e||void 0===e?void 0:e.name):t="Permissions needed",i="Permission denied by system"===e.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"We can't access your microphone/camera which means we don't have permissions for audio and video. Depending on your browser or operating system, these might live in \"Settings\".";break;case"NotFoundError"===(null===e||void 0===e?void 0:e.name):t="Cannot find microphone or camera",i="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(e):t="Error acquiring media",i="".concat(e.name," ").concat(e.message)}return{headline:t,message:i}}(y().state.deviceError),t=e.headline,i=e.message,n=ut();return Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:6,children:[Object(f.jsxs)(L.a,{variant:"h1",gutterBottom:!0,className:n.heading,children:[Object(f.jsx)("div",{className:n.errorIcon,children:Object(f.jsx)(fe,{})})," ",t]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:i}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:Object(f.jsx)("strong",{children:"Update your settings to allow your browser permissions and refresh this page."})}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:function(){return window.location.reload()},children:"Refresh page"})]}),Object(f.jsx)(B.a,{item:!0,md:5,children:Object(f.jsxs)(H.a,{className:n.paper,children:[Object(f.jsx)(L.a,{variant:"body1",className:n.grantPermissions,children:Object(f.jsx)("strong",{children:"Permissions"})}),Object(f.jsx)("img",{src:dt,alt:"Settings Illustration",className:n.illustration})]})})]})})}var bt=i.p+"static/media/Excellent.cefab6c4.png",ht=Object(a.a)({modal:{width:"6000px"},illustrationContainer:{display:"flex",flexDirection:"column",alignItems:"center"},viewButton:{marginTop:"2em","& svg":{position:"relative",left:"-5px"}}});function pt(e){var t=e.quality,i=e.openModal,n=y().nextPane,r=ht(),a=t===Rt.Excellent?"excellent":"good";return Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsxs)(L.a,{variant:"h1",gutterBottom:!0,children:["Expected quality is ",a]}),Object(f.jsxs)(L.a,{variant:"body1",gutterBottom:!0,children:["This is the last step! Your expected audio and video quality is ",Object(f.jsx)("strong",{children:a})," and overall performance looks ","excellent"===a?"good":"ok","."]}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:n,children:"Finish up!"})]}),Object(f.jsxs)(B.a,{item:!0,md:5,className:r.illustrationContainer,children:[Object(f.jsx)("img",{src:bt,alt:"Success",style:{width:"245px",height:"200px"}}),Object(f.jsxs)(D.a,{variant:"outlined",onClick:i,className:r.viewButton,children:[Object(f.jsx)(ze,{}),"View detailed quality information"]})]})]})})}function vt(){return Object(f.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7461 1.52332L22.4767 10.2539C23.4411 11.2183 23.4411 12.7818 22.4767 13.7462L13.7461 22.4768C12.7818 23.4411 11.2182 23.4411 10.2539 22.4768L1.52327 13.7462C0.55891 12.7818 0.55891 11.2183 1.52327 10.2539L10.2539 1.52332C11.2182 0.55896 12.7818 0.55896 13.7461 1.52332ZM13.4 16.2C13.4 16.9732 12.7732 17.6 12 17.6C11.2268 17.6 10.6 16.9732 10.6 16.2C10.6 15.4269 11.2268 14.8 12 14.8C12.7732 14.8 13.4 15.4269 13.4 16.2ZM11.9856 7.80005H12.0142C12.8694 7.81042 13.5156 8.62935 13.3826 9.54159L12.7839 12.6744C12.7269 13.0891 12.3943 13.4 12.0047 13.4H11.9951C11.6055 13.4 11.2729 13.0891 11.2159 12.6744L10.6172 9.54159C10.4842 8.62935 11.1399 7.80005 11.9856 7.80005Z",fill:"#F5A623"})})}var gt=Object(a.a)({modal:{width:"6000px"},paper:{padding:"1.5em",borderRadius:"8px","& li":{"&:not(:last-child)":{marginBottom:"1.5em"}}},paperContainer:{display:"flex",flexDirection:"column",alignItems:"center"},errorIcon:{position:"absolute",right:"calc(100% + 18px)"},viewButton:{marginTop:"2em","& svg":{position:"relative",left:"-5px"}}});function xt(e){var t=e.quality,i=e.openModal,n=y().nextPane,r=gt();return Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsxs)(L.a,{variant:"h1",gutterBottom:!0,style:{position:"relative"},children:[Object(f.jsx)("div",{className:r.errorIcon,children:t===Rt.Suboptimal?Object(f.jsx)(vt,{}):Object(f.jsx)(fe,{})}),"Quality ",t===Rt.Suboptimal?"is okay":"issues"]}),Object(f.jsxs)(L.a,{variant:"body1",gutterBottom:!0,children:["This the last step! Your expected audio and video quality is"," ",Object(f.jsxs)("strong",{children:[t===Rt.Suboptimal?"suboptimal":"degraded"," "]}),"and overall performance ",t===Rt.Suboptimal?"could be better":"will be poor","."]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:Object(f.jsx)("strong",{children:"Did you try all of the tips to improve quality?"})}),Object(f.jsx)(D.a,{variant:"contained",color:"primary",onClick:n,style:{marginRight:"1.5em"},children:"Yes"}),Object(f.jsx)(D.a,{color:"primary",onClick:n,children:"Skip for now"})]}),Object(f.jsxs)(B.a,{item:!0,md:5,className:r.paperContainer,children:[Object(f.jsxs)(H.a,{className:r.paper,children:[Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Tips to improve quality and performance:"})}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(L.a,{variant:"body1",children:"Close unused tabs and applications on your computer/device when using video."})}),Object(f.jsx)("li",{children:Object(f.jsx)(L.a,{variant:"body1",children:"Move closer to your router."})}),Object(f.jsx)("li",{children:Object(f.jsx)(L.a,{variant:"body1",children:"Turn off or disconnect from VPN."})}),Object(f.jsx)("li",{children:Object(f.jsx)(L.a,{variant:"body1",children:"Restart your computer or device."})})]})]}),Object(f.jsxs)(D.a,{variant:"outlined",onClick:i,className:r.viewButton,children:[Object(f.jsx)(ze,{}),"View detailed quality information"]})]})]})})}function mt(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"undefined"===typeof e?Rt.Excellent:r?e>t?Rt.Excellent:e>i?Rt.Good:e>n?Rt.Suboptimal:Rt.Poor:e>=n?Rt.Poor:e>=i?Rt.Suboptimal:e>=t?Rt.Good:Rt.Excellent}var Ot=function(e){return null===e||void 0===e?void 0:e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})};function ft(e,t){var i=(null===t||void 0===t?void 0:t.values)?Math.max.apply(Math,Object(d.a)(t.values)):0,n={average:Ot(null===e||void 0===e?void 0:e.stats.rtt.average),max:Ot(null===e||void 0===e?void 0:e.stats.rtt.max),qualityScore:mt(null===e||void 0===e?void 0:e.stats.rtt.average,100,250,400)},r={average:Ot(null===e||void 0===e?void 0:e.stats.jitter.average),max:Ot(null===e||void 0===e?void 0:e.stats.jitter.max),qualityScore:mt(null===e||void 0===e?void 0:e.stats.jitter.average,5,10,30)},a={average:Ot(null===e||void 0===e?void 0:e.stats.packetLoss.average),max:Ot(null===e||void 0===e?void 0:e.stats.packetLoss.max),qualityScore:mt(null===e||void 0===e?void 0:e.stats.packetLoss.average,1,3,8)},o={average:Ot(null===t||void 0===t?void 0:t.averageBitrate),max:Ot(i),qualityScore:mt(null===t||void 0===t?void 0:t.averageBitrate,1e3,500,150,!0)};return{latency:n,jitter:r,packetLoss:a,bitrate:o,totalQualityScore:Math.min(n.qualityScore,r.qualityScore,a.qualityScore,o.qualityScore)}}var Ct=i(407),wt="Round-trip time (RTT) is the time a packet of data takes to go from sender to receiver and back again. High RTT can cause the video to lag, freeze, or slow down. This is usually attributed to slow or overloaded networks.",yt="Jitter is the fluctuation of latency over time. Due to network congestion, data can take longer to travel. High jitter typically results in short bursts of video freezing, slow video, and choppy audio.",It="Packet loss is caused when data fails to reach its destination. High packet loss results in video freezing, slow video, and choppy audio. Packet loss is usually caused by overloaded routers or high CPU load on the machine.",At="Bitrate is the way we measure the speed of the upload and download transfers. If a sender uploads data too quickly and exceeds the transfer speed, the network gets overwhelmed and can cause issues for everyone. Symptoms of this can be frozen video, downscaled video, frame-rate drops, choppy audio, and potentially dropped connections.";function kt(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10ZM3.25 10C3.25 6.27208 6.27208 3.25 10 3.25C13.7279 3.25 16.75 6.27208 16.75 10C16.75 13.7279 13.7279 16.75 10 16.75C6.27208 16.75 3.25 13.7279 3.25 10ZM9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10V13C11 13.5523 10.5523 14 10 14C9.44772 14 9 13.5523 9 13V10ZM10 8C10.5523 8 11 7.55228 11 7C11 6.44772 10.5523 6 10 6C9.44772 6 9 6.44772 9 7C9 7.55228 9.44772 8 10 8Z",fill:"#606B85"})})}var Rt,Tt=Object(a.a)((function(e){return Object(o.a)({modal:{width:"100%"},content:{padding:"3em"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},iconContainer:{display:"flex",alignItems:"center","& div":{display:"flex",alignItems:"center"},"& svg":{marginRight:"0.3em"}}})}));function Bt(e){var t,i=e.isModalOpen,n=e.setIsModalOpen,r=e.latency,a=e.jitter,o=e.packetLoss,s=e.bitrate,c=(t={},Object(k.a)(t,Rt.Excellent,Object(f.jsx)(Ke,{})),Object(k.a)(t,Rt.Good,Object(f.jsx)(Ke,{})),Object(k.a)(t,Rt.Suboptimal,Object(f.jsx)(Je,{})),Object(k.a)(t,Rt.Poor,Object(f.jsx)(Ue,{})),t),l=Tt();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(We.a,{open:i,onClose:function(){return n(!1)},classes:{paper:l.modal},children:[Object(f.jsxs)(Ze.a,{disableTypography:!0,children:[Object(f.jsx)(L.a,{variant:"h3",children:"Detailed quality information"}),Object(f.jsx)(xe.a,{"aria-label":"close",className:l.closeButton,onClick:function(){return n(!1)},children:Object(f.jsx)(qe.a,{})})]}),Object(f.jsx)(Qe.a,{dividers:!0,className:l.content,children:Object(f.jsxs)(Ce.a,{children:[Object(f.jsx)(we.a,{children:Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Network Info"})})}),Object(f.jsx)(Ie.a,{children:Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Score"})})})]})}),Object(f.jsxs)(Ae.a,{children:[Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[Object(f.jsx)(Ct.a,{title:wt,interactive:!0,leaveDelay:250,children:Object(f.jsx)("div",{children:Object(f.jsx)(kt,{})})}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"RTT (ms) avg/max"})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[c[r.qualityScore],Object(f.jsx)(L.a,{variant:"body1",children:"".concat(r.average," / ").concat(r.max," (").concat(Rt[r.qualityScore],")")})]})})]}),Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[Object(f.jsx)(Ct.a,{title:yt,interactive:!0,leaveDelay:250,children:Object(f.jsx)("div",{children:Object(f.jsx)(kt,{})})}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Jitter (s) avg/max"})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[c[a.qualityScore],Object(f.jsx)(L.a,{variant:"body1",children:"".concat(a.average," / ").concat(a.max," (").concat(Rt[a.qualityScore],")")})]})})]}),Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[Object(f.jsx)(Ct.a,{title:It,interactive:!0,leaveDelay:250,children:Object(f.jsx)("div",{children:Object(f.jsx)(kt,{})})}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Packet loss avg/max"})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[c[o.qualityScore],Object(f.jsx)(L.a,{variant:"body1",children:"".concat(o.average,"% / ").concat(o.max,"% (").concat(Rt[o.qualityScore],")")})]})})]}),Object(f.jsxs)(ye.a,{children:[Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[Object(f.jsx)(Ct.a,{title:At,interactive:!0,leaveDelay:250,children:Object(f.jsx)("div",{children:Object(f.jsx)(kt,{})})}),Object(f.jsx)(L.a,{variant:"body1",children:Object(f.jsx)("strong",{children:"Bitrate (kbps) avg/max"})})]})}),Object(f.jsx)(Ie.a,{children:Object(f.jsxs)("div",{className:l.iconContainer,children:[c[s.qualityScore],Object(f.jsx)(L.a,{variant:"body1",children:"".concat(s.average," / ").concat(s.max," (").concat(Rt[s.qualityScore],")")})]})})]})]})]})})]})})}function Lt(){var e=y().state,t=Object(s.useState)(!1),i=Object(u.a)(t,2),n=i[0],r=i[1],a=ft(e.preflightTest.report,e.bitrateTest.report),o=a.totalQualityScore,c=a.latency,l=a.jitter,d=a.packetLoss,j=a.bitrate;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Bt,{isModalOpen:n,setIsModalOpen:r,jitter:l,latency:c,packetLoss:d,bitrate:j}),o===Rt.Good||o===Rt.Excellent?Object(f.jsx)(pt,{quality:o,openModal:function(){return r(!0)}}):Object(f.jsx)(xt,{quality:o,openModal:function(){return r(!0)}})]})}function Mt(){return Object(f.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM9.7103 12.7047L13.7062 8.71128C13.8943 8.52328 14 8.26831 14 8.00244C14 7.73657 13.8943 7.4816 13.7062 7.29361C13.5181 7.10561 13.263 7 12.9969 7C12.7309 7 12.4758 7.10561 12.2877 7.29361L9.00103 10.5882L7.71234 9.29032C7.52423 9.10232 7.2691 8.99672 7.00307 8.99672C6.73703 8.99672 6.4819 9.10232 6.2938 9.29032C6.10568 9.47831 6 9.73328 6 9.99915C6 10.265 6.10568 10.52 6.2938 10.708L8.29175 12.7047C8.38462 12.7983 8.4951 12.8725 8.61684 12.9232C8.73857 12.9739 8.86914 13 9.00103 13C9.1329 13 9.26347 12.9739 9.3852 12.9232C9.50694 12.8725 9.61742 12.7983 9.7103 12.7047Z",fill:"#0E7C3A"})})}!function(e){e[e.Poor=0]="Poor",e[e.Suboptimal=1]="Suboptimal",e[e.Good=2]="Good",e[e.Excellent=3]="Excellent"}(Rt||(Rt={}));var St=i.p+"static/media/TestsPassed.c211a030.png",Nt=Object(a.a)({resultContainer:{marginTop:"2em","&:not(:last-child)":{paddingBottom:"2em",borderBottom:"0.1em solid #8891AA"}},iconContainer:{display:"flex","& svg":{margin:"0.2em 0.8em 0 0"}},downloadButton:{marginRight:"1.5em","& svg":{position:"relative",left:"-5px"}}});function Et(){var e=y(),t=e.state,i=e.downloadFinalTestResults,n=e.dispatch,r=ft(t.preflightTest.report,t.bitrateTest.report).totalQualityScore,a=Nt(),o=r===Rt.Excellent||r===Rt.Good,s=Rt[r].toLowerCase();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(B.a,{container:!0,justifyContent:"space-between",children:[Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsx)(L.a,{variant:"h1",gutterBottom:!0,children:o?"All tests passed!":"Some tests failed"}),o?Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"As far as we can tell, your video should be working. If you're still experiencing issues, download your report results and send to your network administrator."}):Object(f.jsxs)(L.a,{variant:"body1",gutterBottom:!0,children:[Object(f.jsx)("strong",{children:"One out of three "}),"tests failed \u2013 use this list to solve common video issues and restart the test. If you can\u2019t easily solve the problem(s), download report results and send to your network administrator."]}),Object(f.jsxs)(D.a,{variant:"contained",color:"primary",className:a.downloadButton,onClick:i,children:[Object(f.jsx)(He,{}),"Download report results"]}),Object(f.jsx)(D.a,{variant:"outlined",style:{backgroundColor:"#FFFFFF",borderColor:"#8891AA"},onClick:function(){return window.location.reload()},children:"Restart test"}),Object(f.jsx)("img",{src:o?St:"data:image/png;base64,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",alt:o?"Success":"Some Failed",style:{marginTop:"7em"}})]}),Object(f.jsxs)(B.a,{item:!0,md:5,children:[Object(f.jsxs)("div",{className:a.resultContainer,children:[Object(f.jsxs)("div",{className:a.iconContainer,children:[Object(f.jsx)(Mt,{}),Object(f.jsx)(L.a,{variant:"h3",gutterBottom:!0,children:"Device & Network Setup"})]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"Audio and video successfully received from your hardware and browser."}),Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return n({type:"set-active-pane",newActivePane:O.CameraTest})},style:{marginRight:"1.5em"},children:"Review hardware"}),Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return n({type:"set-active-pane",newActivePane:O.BrowserTest})},children:"Review browser"})]}),Object(f.jsxs)("div",{className:a.resultContainer,children:[Object(f.jsxs)("div",{className:a.iconContainer,children:[Object(f.jsx)(Mt,{}),Object(f.jsx)(L.a,{variant:"h3",gutterBottom:!0,children:"Connectivity"})]}),Object(f.jsx)(L.a,{variant:"body1",gutterBottom:!0,children:"All connections are working successfully."}),Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return n({type:"set-active-pane",newActivePane:O.Connectivity})},children:"Review connectivity"})]}),Object(f.jsxs)("div",{className:a.resultContainer,children:[Object(f.jsxs)("div",{className:a.iconContainer,children:[o?Object(f.jsx)(Mt,{}):Object(f.jsx)(W,{}),Object(f.jsx)(L.a,{variant:"h3",gutterBottom:!0,children:"Quality & Performance"})]}),o?Object(f.jsxs)(L.a,{variant:"body1",gutterBottom:!0,children:["Awesome! Your expected call quality is ",Object(f.jsx)("strong",{children:s})," and overall performance looks","excellent"===s?" good":" ok","."]}):Object(f.jsxs)(L.a,{variant:"body1",gutterBottom:!0,children:["Your overall score is ",Object(f.jsx)("strong",{children:s})," which means that your connection isn't good enough to run video properly. Try out these tips and rerun the test"]}),Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return n({type:"set-active-pane",newActivePane:O.Quality})},children:"Review performance"})]})]})]})})})}var Ft=i(403),Dt=Object(a.a)({container:{display:"flex",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)",borderLeft:"4px solid #D61F1F"},contentContainer:{display:"flex",lineHeight:1.8},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(3px)"},headline:{fontWeight:"bold"}});function Pt(e){var t=e.open,i=Dt();return Object(f.jsx)(Ft.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:t,autoHideDuration:11e4,children:Object(f.jsx)("div",{className:i.container,children:Object(f.jsxs)("div",{className:i.contentContainer,children:[Object(f.jsx)("div",{className:i.iconContainer,children:Object(f.jsx)(W,{})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(L.a,{variant:"body1",className:i.headline,children:"Device change: unable to connect -"}),Object(f.jsxs)(L.a,{variant:"body1",children:[" ",'please reset your browser/OS permissions (which may be in your "Settings") and refresh this page.']}),Object(f.jsx)(D.a,{style:{marginTop:"1em"},variant:"outlined",onClick:function(){return window.location.reload()},children:"Refresh page"})]})]})})})}var Vt=Object(a.a)({contentContainer:{position:"absolute",top:"0"},scrollContainer:{transition:"all 1s ease",position:"relative",transform:"translateY(50vh)","& .inactive":{opacity:.2,userSelect:"none",cursor:"pointer","& > *":{pointerEvents:"none"}}},hideAll:{"& .inactive":{opacity:0,visibility:"hidden"}},hideAfter:{"& .active ~ $item":{opacity:0,visibility:"hidden"}},item:{transition:"all 0.75s ease",width:"100vw",height:"100vh",overflow:"auto",padding:"10%",paddingRight:"25%",paddingBottom:"25%"},hideItem:{visibility:"hidden",position:"fixed"},desktopOnly:{"@media (max-width:600px)":{display:"none"}},buttonContainer:{position:"absolute",bottom:30,right:30,display:"flex",flexDirection:"column","& button":{minWidth:0,padding:"0.6em 0.9em",background:"white","&:first-child":{marginBottom:"1.5em"},"&[disabled]":{visibility:"hidden"}}}});function Ht(e){var t=e.children,i=e.isActive,n=e.onClick,r=e.isHidden,a=Object(F.a)(),o=Vt(),c=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(i){var e=c.current,t=e.offsetTop+.5*e.offsetHeight;e.parentElement.style.transform="translateY(calc(50vh - ".concat(t,"px + ").concat(a.navHeight/2,"px))")}})),Object(f.jsx)("div",{ref:c,className:Object(T.a)(o.item,Object(k.a)({inactive:!i,active:i},o.hideItem,r)),onClick:i?void 0:n,"aria-hidden":!i,"data-testid":"item-container",children:t})}var zt=[{pane:O.GetStarted,component:Object(f.jsx)(lt,{})},{pane:O.DeviceCheck,component:Object(f.jsx)(Ve,{})},{pane:O.DeviceError,component:Object(f.jsx)(jt,{})},{pane:O.CameraTest,component:Object(f.jsx)(Se,{})},{pane:O.AudioTest,component:Object(f.jsx)(be,{})},{pane:O.BrowserTest,component:Object(f.jsx)(Le,{})},{pane:O.Connectivity,component:Object(f.jsx)(st,{})},{pane:O.Quality,component:Object(f.jsx)(Lt,{})},{pane:O.Results,component:Object(f.jsx)(Et,{})}];function Yt(){var e,t,i,n,r=Vt(),a=y(),o=a.state,s=a.dispatch,c=a.nextPane,l=o.audioGranted&&o.videoGranted,d=o.preflightTestInProgress||o.bitrateTestInProgress,u=o.activePane===O.Connectivity&&d,j=(!!(null===(e=o.audioInputTestReport)||void 0===e?void 0:e.errors.length)||!!(null===(t=o.audioOutputTestReport)||void 0===t?void 0:t.errors.length)||!!(null===(i=o.videoInputTestReport)||void 0===i?void 0:i.errors.length))&&(o.activePane===O.CameraTest||o.activePane===O.AudioTest);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:r.desktopOnly,children:Object(f.jsx)(Pt,{open:j})}),Object(f.jsx)("div",{className:r.contentContainer,children:Object(f.jsx)("div",{className:Object(T.a)(r.scrollContainer,(n={},Object(k.a)(n,r.hideAll,0===o.activePane||j),Object(k.a)(n,r.hideAfter,o.activePane===O.DeviceCheck||o.activePane===O.DeviceError||u||o.activePane===O.BrowserTest&&(d||!h.a.isSupported)),n)),children:zt.map((function(e,t){return Object(f.jsx)(Ht,{isActive:o.activePane===e.pane,onClick:function(){return s({type:"set-active-pane",newActivePane:e.pane})},isHidden:e.pane===O.DeviceError&&!o.deviceError||e.pane===O.DeviceCheck&&l,children:e.component},t)}))})}),Object(f.jsxs)("div",{className:r.buttonContainer,children:[Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return s({type:"previous-pane"})},disabled:!O[o.activePane-1]||j,children:Object(f.jsx)(V,{})}),Object(f.jsx)(D.a,{variant:"outlined",onClick:c,disabled:o.downButtonDisabled,children:Object(f.jsx)(P,{})})]})]})}var Gt=Object(a.a)((function(e){return Object(o.a)({appContainer:{position:"relative",height:"100%",width:"100%",background:e.backgroundColor,overflow:"hidden"},desktopOnly:{"@media (max-width:600px)":{display:"none"}}})}));var Wt=function(){var e=Gt();return Object(f.jsx)(A,{children:Object(f.jsxs)("div",{className:e.appContainer,children:[Object(f.jsx)("div",{className:e.desktopOnly,children:Object(f.jsx)(E,{})}),Object(f.jsx)(Yt,{})]})})},Zt=i(177),Qt=Object(Zt.a)(),Xt=Object(Zt.a)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%",width:"100%"}}},MuiContainer:{root:{width:"100%"}},MuiButton:{root:{marginBottom:"10px",borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",fontWeight:600,transition:Qt.transitions.create(["background-color","box-shadow","border","color"],{duration:Qt.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"},outlined:{backgroundColor:"white",border:"1px solid #8891AA"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}},MuiTypography:{gutterBottom:{marginBottom:"36px"}},MuiTableCell:{head:{background:"#F4F4F6"}},MuiTooltip:{tooltip:{fontSize:"0.9rem"}}},typography:{fontFamily:"Inter, sans-serif",h1:{color:"#121C2D",fontSize:"2rem",fontWeight:700},h3:{color:"#121C2D",fontSize:"1.25rem",fontWeight:700,lineHeight:"1.75rem"},body1:{color:"#121C2D",fontSize:"0.9rem",lineHeight:"1.5rem"}},palette:{primary:{main:"#0263E0"},text:{secondary:"#606B85"}},navHeight:100,brandSidebarWidth:250,backgroundColor:"#f4f4f6"}),qt=i(397),Kt=i(398);r.a.render(Object(f.jsxs)(qt.a,{theme:Xt,children:[Object(f.jsx)(Kt.a,{}),Object(f.jsx)(Wt,{})]}),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.23719547.chunk.js.map