{"version":3,"sources":["components/AppStateProvider/AppStateProvider.tsx","components/AppStateProvider/usePreflightTest/usePreflightTest.ts","components/AppStateProvider/useBitrateTest/useBitrateTest.ts","components/AppStateProvider/useTwilioStatus/useTwilioStatus.ts","icons/ChevronRight.tsx","components/Header/Header.tsx","icons/ArrowDown.tsx","icons/ArrowUp.tsx","icons/SmallError.tsx","hooks/useDevices/useDevices.ts","components/panes/AudioTest/AudioDevice/AudioDevice.tsx","components/panes/AudioTest/ProgressBar/ProgressBar.tsx","constants.ts","utils/index.ts","components/panes/AudioTest/useAudioTest/useAudioTest.ts","icons/Microphone.tsx","icons/SpeakerIcon.tsx","components/panes/AudioTest/AudioTest.tsx","components/panes/BrowserTest/SupportedBrowser/SupportedBrowser.tsx","icons/CopyIcon.tsx","icons/ErrorIcon.tsx","components/panes/BrowserTest/UnsupportedBrowser/SupportedList.tsx","components/panes/BrowserTest/UnsupportedBrowser/UnsupportedBrowser.tsx","components/panes/BrowserTest/BrowserTest.tsx","components/panes/CameraTest/CameraTest.tsx","components/panes/CameraTest/useCameraTest/useCameraTest.ts","components/panes/DeviceSetup/CheckPermissions/SettingsIllustration.png","components/panes/DeviceSetup/CheckPermissions/CheckPermissions.tsx","icons/DownloadIcon.tsx","icons/ViewIcon.tsx","components/panes/Connectivity/ConnectionFailed/ConnectionFailed.tsx","icons/StatusIcons.tsx","components/panes/Connectivity/ConnectionModal/ConnectionModal.tsx","components/panes/Connectivity/ConnectionSuccess/Success.png","components/panes/Connectivity/ConnectionSuccess/ConnectionSuccess.tsx","icons/Loading.tsx","components/panes/Connectivity/Connectivity.tsx","components/panes/GetStarted/Hello.png","components/panes/GetStarted/GetStarted.tsx","components/panes/DeviceSetup/PermissionError/ErrorIllustration.png","components/panes/DeviceSetup/PermissionError/PermissionError.tsx","components/panes/Quality/ExcellentQuality/Excellent.png","components/panes/Quality/ExcellentQuality/ExcellentQuality.tsx","icons/WarningIcon.tsx","components/panes/Quality/PoorQuality/PoorQuality.tsx","components/panes/Quality/getQualityScore/getQualityScore.ts","components/panes/Quality/QualityModal/ToolTipContent.ts","icons/InfoIcon.tsx","components/panes/Quality/QualityModal/QualityModal.tsx","components/panes/Quality/Quality.tsx","icons/CheckMark.tsx","components/panes/Results/SomeFailed.png","components/panes/Results/TestsPassed.png","components/panes/Results/Results.tsx","components/Snackbar/Snackbar.tsx","components/MainContent/MainContent.tsx","App.tsx","theme.ts","index.tsx"],"names":["ActivePane","initialState","activePane","GetStarted","videoGranted","audioGranted","deviceError","preflightTest","progress","report","error","tokenError","signalingGatewayReachable","turnServersReachable","twilioStatus","twilioStatusError","videoInputTestReport","audioInputTestReport","audioOutputTestReport","downButtonDisabled","preflightTestInProgress","preflightTestFinished","bitrateTest","bitrate","bitrateTestInProgress","bitrateTestFinished","AppStateContext","createContext","useAppStateContext","context","useContext","Error","appStateReducer","produce","draft","action","type","newActivePane","CameraTest","DeviceCheck","DeviceError","devices","filter","d","kind","every","label","statusObj","currentState","current","connectionFailedOrLoading","Connectivity","deviceTestErrors","errors","length","onDeviceCheck","unsupportedBrowser","BrowserTest","Video","isSupported","isDownButtonDisabled","AppStateProvider","children","useReducer","state","dispatch","startPreflightTest","preflightTestRef","useRef","useCallback","axios","then","response","runPreflight","data","token","on","catch","usePreflightTest","startBitrateTest","bitrateTestRef","testMediaConnectionBitrate","iceServers","MediaConnectionBitrateTest","Events","Bitrate","End","setTimeout","stop","useBitrateTest","getTwilioStatus","ALLOWED_COMPONENTS","components","forEach","name","status","includes","useTwilioStatus","userAgentInfo","UAParser","getResult","nextPane","useEffect","navigator","mediaDevices","enumerateDevices","Provider","value","downloadFinalTestResults","signalingGateway","turnServers","maxBitrate","values","Math","max","finalTestResults","audioTestResults","inputTest","outputTest","bitrateTestResults","browserInformation","connectivityResults","twilioServices","signalingRegion","TURN","preflightTestReport","message","videoTestResults","link","document","createElement","download","href","URL","createObjectURL","Blob","JSON","stringify","click","ChevronRight","width","height","viewBox","fill","xmlns","fillRule","clipRule","useStyles","makeStyles","theme","createStyles","header","position","left","right","top","bottom","navHeight","display","justifyContent","zIndex","background","breadcrumb","fontWeight","color","paddingRight","active","typography","body1","progressBar","progressBarForeground","palette","primary","main","transition","HeaderItem","pane","classes","className","clsx","Grid","container","alignItems","Typography","variant","Header","numberOfPanes","Object","keys","Container","style","Quality","Results","ArrowDown","ArrowUp","SmallError","useDevices","useState","setDevices","getDevices","newDevices","addEventListener","removeEventListener","audioInputDevices","device","videoInputDevices","audioOutputDevices","labels","audioinput","audioLevelText","headerText","audiooutput","form","margin","deviceLabelContainer","deviceList","marginBottom","marginRight","AudioDevice","disabled","onDeviceChange","setDeviceError","audioDevices","selectedDevice","setSelectedDevice","noAudioRedirect","Audio","prototype","setSinkId","updateSelectedDevice","hasSelectedDevice","some","deviceId","FormControl","fullWidth","Select","onChange","e","target","map","MenuItem","React","memo","alpha","ProgressBar","duration","progressBarRef","el","window","requestAnimationFrame","ref","APP_NAME","getAudioLevelPercentage","level","audioInputTest","audioOutputTest","round","num","decimals","Number","EPSILON","log","getLogger","getErrorMessage","domError","toString","useAudioTest","isRecording","setIsRecording","isAudioInputTestRunning","setIsAudioInputTestRunning","isAudioOutputTestRunning","setIsAudioOutputTestRunning","inputLevel","setInputLevel","outputLevel","setOutputLevel","playbackURI","setPlaybackURI","setError","playAudio","options","debug","doLoop","testAudioOutputDevice","AudioOutputTest","Volume","valueAverage","reduce","partialSum","diffSquared","pow","stdDev","sqrt","getStandardDeviation","diagnosticError","readAudioInput","enableRecording","testAudioInputDevice","AudioInputTest","recordingUrl","revokeObjectURL","Warning","WarningCleared","stopAudioTest","Microphone","SpeakerIcon","paper","padding","borderRadius","minHeight","audioLevelContainer","topLine","AudioTest","inputDeviceId","setInputDeviceId","outputDeviceId","setOutputDeviceId","previousInputDeviceIdRef","volumeLevel","disableAll","newInputDeviceSelected","item","md","gutterBottom","Button","onClick","Paper","size","testURI","flex","paperContainer","flexDirection","SupportedBrowser","browser","operatingSystem","os","version","CopyIcon","ErrorIcon","tableHead","table","SupportedList","Table","TableHead","TableRow","TableCell","TableBody","Link","underline","rel","borderBottom","copyButton","borderLeft","maxHeight","errorIcon","caption","marginTop","UnsupportedBrowser","appURL","location","TextField","id","defaultValue","InputProps","endAdornment","InputAdornment","IconButton","edge","clipboard","writeText","readOnly","align","videoContainer","mobileAspectRatioContainer","aspectRatioContainer","content","paddingTop","objectFit","videoTest","setVideoTest","videoElementRef","videoTestError","setVideoTestError","stopVideoTest","undefined","startVideoTest","test","testVideoInputDevice","element","VideoInputTest","err","useCameraTest","prevVideoDeviceID","videoInputDeviceID","setVideoInputDeviceID","newDeviceSelected","direction","loop","muted","playsInline","autoPlay","deviceID","grantPermissions","fontSize","paddingBottom","illustration","CheckPermissions","handleClick","a","getUserMedia","audio","video","mediaStream","getTracks","track","dispatchEvent","Event","src","SettingsIllustration","alt","DownloadIcon","ViewIcon","downloadButton","viewButton","ConnectionFailed","openModal","SuccessStatus","fillOpacity","cx","cy","r","ErrorStatus","x","y","transform","WarningStatus","modal","closeButton","spacing","grey","iconContainer","serviceStatusObj","operational","icon","major_outage","partial_outage","degraded_performance","TwilioStatusRow","serviceName","serviceStatus","ConnectionModal","isModalOpen","setIsModalOpen","serviceStatuses","Dialog","open","onClose","DialogTitle","disableTypography","DialogContent","dividers","illustrationContainer","ConnectionSuccess","Success","Loading","textBox","textAlign","loading","animation","connectionFailed","Hello","heading","PermissionError","headline","Boolean","getDeviceErrorPaneContent","reload","ErrorIllustration","ExcellentQuality","quality","qualityScore","QualityScore","Excellent","WarningIcon","PoorQuality","Suboptimal","getSingleQualityScore","stat","goodThreshold","suboptimalThreshold","poorThreshold","descending","Good","Poor","formatNumber","val","toLocaleString","minimumFractionDigits","maximumFractionDigits","getQualityScore","bitrateTestReport","latency","average","stats","rtt","jitter","packetLoss","averageBitrate","totalQualityScore","min","toolTipContent","InfoIcon","QualityModal","statusIcons","Tooltip","title","interactive","leaveDelay","CheckMark","resultContainer","testsPassed","toLowerCase","backgroundColor","borderColor","TestsPassed","boxShadow","contentContainer","lineHeight","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","scrollContainer","opacity","userSelect","cursor","pointerEvents","hideAll","visibility","hideAfter","overflow","hideItem","desktopOnly","buttonContainer","minWidth","Item","isActive","isHidden","useTheme","offset","offsetTop","offsetHeight","parentElement","inactive","component","MainContent","devicesPermitted","testsInProgress","onLoadingScreen","isSnackbarOpen","i","appContainer","App","defaultTheme","createTheme","overrides","MuiCssBaseline","MuiContainer","root","MuiButton","textTransform","transitions","create","short","text","contained","outlinedPrimary","border","startIcon","outlined","MuiInputBase","MuiSelect","MuiDialogActions","MuiTextField","MuiInputLabel","MuiOutlinedInput","notchedOutline","MuiTypography","MuiTableCell","head","MuiTooltip","tooltip","fontFamily","h1","h3","secondary","brandSidebarWidth","ReactDOM","render","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.23719547.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer, useEffect, useCallback } from 'react';\r\nimport produce, { current } from 'immer';\r\nimport Video, { PreflightTestReport } from 'twilio-video';\r\nimport UAParser from 'ua-parser-js';\r\nimport usePreflightTest from './usePreflightTest/usePreflightTest';\r\nimport useTwilioStatus from './useTwilioStatus/useTwilioStatus';\r\nimport useBitrateTest from './useBitrateTest/useBitrateTest';\r\nimport { VideoInputTest, MediaConnectionBitrateTest, AudioInputTest, AudioOutputTest } from '@twilio/rtc-diagnostics';\r\n\r\nexport enum ActivePane {\r\n  GetStarted,\r\n  DeviceCheck,\r\n  DeviceError,\r\n  CameraTest,\r\n  AudioTest,\r\n  BrowserTest,\r\n  Connectivity,\r\n  Quality,\r\n  Results,\r\n}\r\n\r\nexport type TwilioAPIStatus = 'operational' | 'major_outage' | 'partial_outage' | 'degraded_performance';\r\n\r\nexport interface TwilioStatus {\r\n  ['Group Rooms']?: TwilioAPIStatus;\r\n  ['Go Rooms']?: TwilioAPIStatus;\r\n  ['Peer-to-Peer Rooms']?: TwilioAPIStatus;\r\n  ['Recordings']?: TwilioAPIStatus;\r\n  ['Compositions']?: TwilioAPIStatus;\r\n  ['Network Traversal Service']?: TwilioAPIStatus;\r\n}\r\n\r\ninterface stateType {\r\n  activePane: ActivePane;\r\n  videoGranted: boolean;\r\n  audioGranted: boolean;\r\n  deviceError: null | Error;\r\n  preflightTest: {\r\n    progress: string | null;\r\n    error: null | Error;\r\n    report: null | PreflightTestReport;\r\n    tokenError: null | Error;\r\n    signalingGatewayReachable: boolean;\r\n    turnServersReachable: boolean;\r\n  };\r\n  twilioStatus: TwilioStatus | null;\r\n  twilioStatusError: null | Error;\r\n  videoInputTestReport: null | VideoInputTest.Report;\r\n  audioInputTestReport: null | AudioInputTest.Report;\r\n  audioOutputTestReport: null | AudioOutputTest.Report;\r\n  downButtonDisabled: boolean;\r\n  preflightTestInProgress: boolean;\r\n  preflightTestFinished: boolean;\r\n  bitrateTest: {\r\n    bitrate: null | number;\r\n    report: null | MediaConnectionBitrateTest.Report;\r\n    error: null | Error;\r\n  };\r\n  bitrateTestInProgress: boolean;\r\n  bitrateTestFinished: boolean;\r\n}\r\n\r\nexport type ACTIONTYPE =\r\n  | { type: 'set-active-pane'; newActivePane: ActivePane }\r\n  | { type: 'next-pane' }\r\n  | { type: 'previous-pane' }\r\n  | { type: 'set-devices'; devices: MediaDeviceInfo[] }\r\n  | { type: 'set-device-error'; error: Error }\r\n  | { type: 'set-video-test-report'; report: VideoInputTest.Report }\r\n  | { type: 'set-audio-input-test-report'; report: AudioInputTest.Report }\r\n  | { type: 'set-audio-output-test-report'; report: AudioOutputTest.Report }\r\n  | { type: 'preflight-progress'; progress: string }\r\n  | { type: 'preflight-completed'; report: PreflightTestReport }\r\n  | { type: 'preflight-failed'; error: Error }\r\n  | { type: 'preflight-token-failed'; error: Error }\r\n  | { type: 'set-twilio-status'; statusObj: TwilioStatus }\r\n  | { type: 'set-twilio-status-error'; error: Error }\r\n  | { type: 'preflight-started' }\r\n  | { type: 'preflight-finished' }\r\n  | { type: 'set-bitrate'; bitrate: number }\r\n  | { type: 'set-bitrate-test-error'; error: Error }\r\n  | { type: 'set-bitrate-test-report'; report: MediaConnectionBitrateTest.Report }\r\n  | { type: 'bitrate-test-started' }\r\n  | { type: 'bitrate-test-finished' };\r\n\r\ntype AppStateContextType = {\r\n  state: stateType;\r\n  dispatch: React.Dispatch<ACTIONTYPE>;\r\n  nextPane: () => void;\r\n  userAgentInfo: UAParser.IResult;\r\n  downloadFinalTestResults: () => void;\r\n};\r\n\r\nexport const initialState = {\r\n  activePane: ActivePane.GetStarted,\r\n  videoGranted: false,\r\n  audioGranted: false,\r\n  deviceError: null,\r\n  preflightTest: {\r\n    progress: null,\r\n    report: null,\r\n    error: null,\r\n    tokenError: null,\r\n    signalingGatewayReachable: false,\r\n    turnServersReachable: false,\r\n  },\r\n  twilioStatus: null,\r\n  twilioStatusError: null,\r\n  videoInputTestReport: null,\r\n  audioInputTestReport: null,\r\n  audioOutputTestReport: null,\r\n  downButtonDisabled: false,\r\n  preflightTestInProgress: false,\r\n  preflightTestFinished: false,\r\n  bitrateTest: {\r\n    bitrate: null,\r\n    report: null,\r\n    error: null,\r\n  },\r\n  bitrateTestInProgress: false,\r\n  bitrateTestFinished: false,\r\n};\r\n\r\nexport const AppStateContext = createContext<AppStateContextType>(null!);\r\n\r\nexport function useAppStateContext() {\r\n  const context = useContext(AppStateContext);\r\n  if (!context) {\r\n    throw new Error('useAppStateContext must be used within an AppStateProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n// helper function for determining whether to disable the down arrow button:\r\nexport const isDownButtonDisabled = (currentState: stateType) => {\r\n  const {\r\n    activePane,\r\n    preflightTestInProgress,\r\n    preflightTest,\r\n    bitrateTestInProgress,\r\n    audioInputTestReport,\r\n    audioOutputTestReport,\r\n    videoInputTestReport,\r\n  } = currentState;\r\n\r\n  const connectionFailedOrLoading =\r\n    activePane === ActivePane.Connectivity &&\r\n    (preflightTestInProgress || bitrateTestInProgress || preflightTest.error !== null);\r\n\r\n  const deviceTestErrors =\r\n    !!audioInputTestReport?.errors.length ||\r\n    !!audioOutputTestReport?.errors.length ||\r\n    !!videoInputTestReport?.errors.length;\r\n\r\n  const onDeviceCheck = activePane === ActivePane.DeviceCheck || activePane === ActivePane.DeviceError;\r\n  const unsupportedBrowser = activePane === ActivePane.BrowserTest && !Video.isSupported;\r\n\r\n  return (\r\n    connectionFailedOrLoading || !ActivePane[activePane + 1] || deviceTestErrors || onDeviceCheck || unsupportedBrowser\r\n  );\r\n};\r\n\r\n/**\r\n * This reducer function helps with the logic used to decide the activePane,\r\n * as well as which panes are to be shown to the user, and when.\r\n */\r\n\r\nexport const appStateReducer = produce((draft: stateType, action: ACTIONTYPE) => {\r\n  switch (action.type) {\r\n    case 'set-active-pane':\r\n      draft.activePane = action.newActivePane;\r\n      break;\r\n\r\n    case 'next-pane':\r\n      switch (draft.activePane) {\r\n        case ActivePane.GetStarted:\r\n          if (draft.audioGranted && draft.videoGranted) {\r\n            draft.activePane = ActivePane.CameraTest;\r\n          } else {\r\n            draft.activePane = ActivePane.DeviceCheck;\r\n          }\r\n          break;\r\n        case ActivePane.DeviceCheck:\r\n          if (draft.deviceError) {\r\n            draft.activePane = ActivePane.DeviceError;\r\n          } else {\r\n            draft.activePane = ActivePane.CameraTest;\r\n          }\r\n          break;\r\n        default:\r\n          draft.activePane++;\r\n          break;\r\n      }\r\n      break;\r\n\r\n    case 'previous-pane':\r\n      switch (draft.activePane) {\r\n        case ActivePane.CameraTest:\r\n          if (draft.audioGranted && draft.videoGranted) {\r\n            draft.activePane = ActivePane.GetStarted;\r\n          } else {\r\n            draft.activePane = ActivePane.DeviceCheck;\r\n          }\r\n          break;\r\n        default:\r\n          draft.activePane--;\r\n          break;\r\n      }\r\n      break;\r\n\r\n    case 'set-devices':\r\n      draft.audioGranted = action.devices.filter((d) => d.kind === 'audioinput').every((d) => d.label);\r\n      draft.videoGranted = action.devices.filter((d) => d.kind === 'videoinput').every((d) => d.label);\r\n      break;\r\n\r\n    case 'set-device-error':\r\n      draft.deviceError = action.error;\r\n      draft.activePane = ActivePane.DeviceError;\r\n      break;\r\n\r\n    case 'preflight-progress':\r\n      draft.preflightTest.progress = action.progress;\r\n      // Safari does not support RTCDtlsTransport, so we use 'peerConnectionConnected' to determine if Signaling Gateway is reachable\r\n      if (action.progress === 'dtlsConnected' || action.progress === 'peerConnectionConnected') {\r\n        draft.preflightTest.signalingGatewayReachable = true;\r\n      }\r\n\r\n      if (action.progress === 'mediaAcquired') {\r\n        draft.preflightTest.turnServersReachable = true;\r\n      }\r\n      break;\r\n\r\n    case 'preflight-completed':\r\n      draft.preflightTest.report = action.report;\r\n      draft.preflightTest.progress = null;\r\n      break;\r\n\r\n    case 'preflight-failed':\r\n      draft.preflightTest.error = action.error;\r\n      draft.preflightTest.progress = null;\r\n      break;\r\n\r\n    case 'preflight-token-failed':\r\n      draft.preflightTest.tokenError = action.error;\r\n      break;\r\n\r\n    case 'set-twilio-status':\r\n      draft.twilioStatus = action.statusObj;\r\n      break;\r\n\r\n    case 'set-twilio-status-error':\r\n      draft.twilioStatusError = action.error;\r\n      break;\r\n\r\n    case 'set-video-test-report':\r\n      draft.videoInputTestReport = action.report;\r\n      break;\r\n\r\n    case 'set-audio-input-test-report':\r\n      draft.audioInputTestReport = action.report;\r\n      break;\r\n\r\n    case 'set-audio-output-test-report':\r\n      draft.audioOutputTestReport = action.report;\r\n      break;\r\n\r\n    case 'preflight-started':\r\n      draft.preflightTestInProgress = true;\r\n      draft.preflightTestFinished = false;\r\n      break;\r\n\r\n    case 'preflight-finished':\r\n      draft.preflightTestFinished = true;\r\n      draft.preflightTestInProgress = false;\r\n      break;\r\n\r\n    case 'set-bitrate':\r\n      draft.bitrateTest.bitrate = action.bitrate;\r\n      break;\r\n\r\n    case 'set-bitrate-test-report':\r\n      draft.bitrateTest.report = action.report;\r\n      break;\r\n\r\n    case 'set-bitrate-test-error':\r\n      draft.bitrateTest.error = action.error;\r\n      break;\r\n\r\n    case 'bitrate-test-started':\r\n      draft.bitrateTestInProgress = true;\r\n      draft.bitrateTestFinished = false;\r\n      break;\r\n\r\n    case 'bitrate-test-finished':\r\n      draft.bitrateTestFinished = true;\r\n      draft.bitrateTestInProgress = false;\r\n      break;\r\n  }\r\n\r\n  const currentState = current(draft);\r\n\r\n  draft.downButtonDisabled = isDownButtonDisabled(currentState);\r\n});\r\n\r\nexport const AppStateProvider: React.FC = ({ children }) => {\r\n  const [state, dispatch] = useReducer(appStateReducer, initialState);\r\n  const { startPreflightTest } = usePreflightTest(dispatch);\r\n  const { startBitrateTest } = useBitrateTest(dispatch);\r\n  const { getTwilioStatus } = useTwilioStatus(dispatch);\r\n\r\n  const userAgentParser = new UAParser();\r\n  const userAgentInfo = userAgentParser.getResult();\r\n\r\n  const downloadFinalTestResults = () => {\r\n    const signalingGateway = state.preflightTest.signalingGatewayReachable ? 'Reachable' : 'Unreachable';\r\n    const turnServers = state.preflightTest.turnServersReachable ? 'Reachable' : 'Unreachable';\r\n    const maxBitrate = state.bitrateTest.report?.values ? Math.max(...state.bitrateTest.report.values) : 0;\r\n\r\n    const finalTestResults = {\r\n      audioTestResults: { inputTest: state.audioInputTestReport, outputTest: state.audioOutputTestReport },\r\n      bitrateTestResults: { maxBitrate, ...state.bitrateTest.report },\r\n      browserInformation: userAgentInfo,\r\n      connectivityResults: {\r\n        twilioServices: { ...state.twilioStatus },\r\n        signalingRegion: signalingGateway,\r\n        TURN: turnServers,\r\n      },\r\n      preflightTestReport: { report: state.preflightTest.report, error: state.preflightTest.error?.message || null },\r\n      videoTestResults: state.videoInputTestReport,\r\n    };\r\n\r\n    const link = document.createElement('a');\r\n    link.download = 'test_results.json';\r\n    link.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(finalTestResults, null, 2)], {\r\n        type: 'text/plain',\r\n      })\r\n    );\r\n    link.click();\r\n  };\r\n\r\n  const nextPane = useCallback(() => {\r\n    switch (state.activePane) {\r\n      case ActivePane.GetStarted:\r\n        startBitrateTest();\r\n        startPreflightTest();\r\n        getTwilioStatus();\r\n        dispatch({ type: 'next-pane' });\r\n        break;\r\n      default:\r\n        dispatch({ type: 'next-pane' });\r\n    }\r\n  }, [startBitrateTest, startPreflightTest, getTwilioStatus, state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    navigator.mediaDevices.enumerateDevices().then((devices) => dispatch({ type: 'set-devices', devices }));\r\n  }, []);\r\n\r\n  return (\r\n    <AppStateContext.Provider value={{ state, dispatch, nextPane, userAgentInfo, downloadFinalTestResults }}>\r\n      {children}\r\n    </AppStateContext.Provider>\r\n  );\r\n};\r\n","import React, { useCallback, useRef } from 'react';\r\nimport { ACTIONTYPE } from '../AppStateProvider';\r\nimport axios from 'axios';\r\nimport { PreflightTest, runPreflight } from 'twilio-video';\r\n\r\nexport default function usePreflightTest(dispatch: React.Dispatch<ACTIONTYPE>) {\r\n  const preflightTestRef = useRef<PreflightTest>();\r\n  const startPreflightTest = useCallback(() => {\r\n    // Don't start a new preflight test if one is already running\r\n    if (preflightTestRef.current) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'preflight-started' });\r\n\r\n    return axios('app/token')\r\n      .then((response) => {\r\n        const preflightTest = runPreflight(response.data.token);\r\n\r\n        preflightTestRef.current = preflightTest;\r\n\r\n        preflightTest.on('progress', (progress) => {\r\n          dispatch({ type: 'preflight-progress', progress });\r\n        });\r\n\r\n        preflightTest.on('completed', (report) => {\r\n          dispatch({ type: 'preflight-completed', report });\r\n          dispatch({ type: 'preflight-finished' });\r\n        });\r\n\r\n        preflightTest.on('failed', (error) => {\r\n          dispatch({ type: 'preflight-failed', error });\r\n          dispatch({ type: 'preflight-finished' });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: 'preflight-token-failed', error });\r\n        dispatch({ type: 'preflight-finished' });\r\n      });\r\n  }, [dispatch]);\r\n\r\n  return { startPreflightTest } as const;\r\n}\r\n","import { useCallback, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { testMediaConnectionBitrate, MediaConnectionBitrateTest } from '@twilio/rtc-diagnostics';\r\nimport { ACTIONTYPE } from '../AppStateProvider';\r\n\r\nexport default function useBitrateTest(dispatch: React.Dispatch<ACTIONTYPE>) {\r\n  const bitrateTestRef = useRef<MediaConnectionBitrateTest>();\r\n  const startBitrateTest = useCallback(() => {\r\n    //Don't start a new bitrate test if one is already running:\r\n    if (bitrateTestRef.current) {\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'bitrate-test-started' });\r\n\r\n    return axios('app/turn-credentials')\r\n      .then((response) => {\r\n        const bitrateTest = testMediaConnectionBitrate({ iceServers: response.data.iceServers });\r\n\r\n        bitrateTestRef.current = bitrateTest;\r\n\r\n        bitrateTest.on(MediaConnectionBitrateTest.Events.Bitrate, (bitrate) => {\r\n          dispatch({ type: 'set-bitrate', bitrate });\r\n        });\r\n\r\n        bitrateTest.on(MediaConnectionBitrateTest.Events.Error, (error) => {\r\n          dispatch({ type: 'set-bitrate-test-error', error });\r\n          dispatch({ type: 'bitrate-test-finished' });\r\n        });\r\n\r\n        bitrateTest.on(MediaConnectionBitrateTest.Events.End, (report) => {\r\n          dispatch({ type: 'set-bitrate-test-report', report });\r\n          dispatch({ type: 'bitrate-test-finished' });\r\n        });\r\n\r\n        setTimeout(() => {\r\n          bitrateTest.stop();\r\n        }, 15000);\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: 'set-bitrate-test-error', error });\r\n        dispatch({ type: 'bitrate-test-finished' });\r\n      });\r\n  }, [dispatch]);\r\n\r\n  return { startBitrateTest } as const;\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { ACTIONTYPE, TwilioStatus, TwilioAPIStatus } from '../AppStateProvider';\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'https://status.twilio.com/api/v2/components.json';\r\n\r\nexport default function useTwilioStatus(dispatch: React.Dispatch<ACTIONTYPE>) {\r\n  const getTwilioStatus = useCallback(() => {\r\n    return axios(BASE_URL)\r\n      .then((response) => {\r\n        const statusObj: TwilioStatus = {};\r\n\r\n        const ALLOWED_COMPONENTS = [\r\n          'Group Rooms',\r\n          'Peer-to-Peer Rooms',\r\n          'Compositions',\r\n          'Recordings',\r\n          'Network Traversal Service',\r\n          'Go Rooms',\r\n        ];\r\n\r\n        response.data.components.forEach(({ name, status }: { name: keyof TwilioStatus; status: TwilioAPIStatus }) => {\r\n          if (ALLOWED_COMPONENTS.includes(name)) {\r\n            statusObj[name] = status;\r\n          }\r\n        });\r\n\r\n        dispatch({ type: 'set-twilio-status', statusObj });\r\n      })\r\n\r\n      .catch((error) => {\r\n        dispatch({ type: 'set-twilio-status-error', error });\r\n      });\r\n  }, [dispatch]);\r\n\r\n  return { getTwilioStatus } as const;\r\n}\r\n","export function ChevronRight() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M9.70711 6.29289C9.31658 5.90237 8.68342 5.90237 8.29289 6.29289C7.93241 6.65338 7.90468 7.22061 8.2097 7.6129L8.29289 7.70711L10.585 10L8.29289 12.2929C7.93241 12.6534 7.90468 13.2206 8.2097 13.6129L8.29289 13.7071C8.65338 14.0676 9.22061 14.0953 9.6129 13.7903L9.70711 13.7071L12.7071 10.7071C13.0676 10.3466 13.0953 9.77939 12.7903 9.3871L12.7071 9.29289L9.70711 6.29289Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { ChevronRight } from '../../icons/ChevronRight';\r\nimport clsx from 'clsx';\r\nimport { Container, Grid, Typography } from '@material-ui/core';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport { useAppStateContext, ActivePane } from '../AppStateProvider/AppStateProvider';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: 'absolute',\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: `calc(100% - ${theme.navHeight}px)`,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      zIndex: 100,\r\n      background: 'inherit',\r\n    },\r\n    breadcrumb: {\r\n      '& p': {\r\n        fontWeight: 600,\r\n        color: '#AEB2C1',\r\n        paddingRight: '2em',\r\n      },\r\n      '&:last-child svg': {\r\n        display: 'none',\r\n      },\r\n    },\r\n    active: {\r\n      '& p': {\r\n        color: theme.typography.body1.color,\r\n      },\r\n    },\r\n    progressBar: {\r\n      position: 'absolute',\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      top: 'calc(100% - 2px)',\r\n      background: '#CACDD8',\r\n    },\r\n    progressBarForeground: {\r\n      background: theme.palette.primary.main,\r\n      width: '0',\r\n      height: '100%',\r\n      transition: 'width 1s ease',\r\n    },\r\n  })\r\n);\r\n\r\nfunction HeaderItem({ label, pane }: { label: string; pane: ActivePane }) {\r\n  const classes = useStyles();\r\n  const { state } = useAppStateContext();\r\n\r\n  return (\r\n    <div className={clsx(classes.breadcrumb, { [classes.active]: state.activePane >= pane })}>\r\n      <Grid container alignItems=\"center\">\r\n        <Typography variant=\"body1\">{label}</Typography>\r\n        <ChevronRight />\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const { state } = useAppStateContext();\r\n\r\n  const numberOfPanes = Object.keys(ActivePane).length / 2;\r\n\r\n  return (\r\n    <div className={classes.header}>\r\n      <Container>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\" style={{ height: '100%' }}>\r\n          <HeaderItem pane={ActivePane.DeviceCheck} label=\"Device & Software Setup\" />\r\n          <HeaderItem pane={ActivePane.Connectivity} label=\"Connectivity\" />\r\n          <HeaderItem pane={ActivePane.Quality} label=\"Quality & Performance\" />\r\n          <HeaderItem pane={ActivePane.Results} label=\"Get Results\" />\r\n        </Grid>\r\n      </Container>\r\n\r\n      <div className={classes.progressBar}>\r\n        <div\r\n          className={classes.progressBarForeground}\r\n          style={{ width: `${(state.activePane / (numberOfPanes - 1)) * 100}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export function ArrowDown() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M9.90959 14.9914L9.95991 14.9983L10.0406 14.9982L10.1108 14.9871L10.1389 14.978C10.2517 14.9455 10.3475 14.8715 10.4114 14.7733L13.8548 10.941C14.0484 10.7257 14.0484 10.3767 13.8548 10.1614C13.6828 9.9701 13.4158 9.94884 13.2226 10.0977L13.154 10.1614L10.495 13.118L10.4956 5.51268C10.4956 5.22954 10.2737 5 10 5C9.7567 5 9.55435 5.18136 9.51239 5.42053L9.5044 5.51268L9.504 13.117L6.84604 10.1614C6.674 9.9701 6.40695 9.94884 6.2138 10.0977L6.14516 10.1614C5.97312 10.3528 5.954 10.6498 6.08781 10.8646L6.14516 10.941L9.58863 14.7733C9.65251 14.8715 9.74834 14.9455 9.86069 14.9795L9.90959 14.9914Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function ArrowUp() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M9.51239 14.5795C9.55435 14.8186 9.7567 15 10 15C10.2737 15 10.4956 14.7705 10.4956 14.4873V6.88192L13.154 9.83856L13.2226 9.90234C13.4158 10.0512 13.6828 10.0299 13.8548 9.83856C14.0484 9.6233 14.0484 9.2743 13.8548 9.05904L10.4169 5.23538C10.3287 5.09377 10.1749 5 10 5C9.82505 5 9.67128 5.09377 9.58308 5.23538L6.14516 9.05904L6.08781 9.13538C5.954 9.3502 5.97312 9.64722 6.14516 9.83856L6.2138 9.90234C6.40695 10.0512 6.674 10.0299 6.84604 9.83856L9.5044 6.88324V14.4873L9.51239 14.5795Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function SmallError() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M11.2472 2.51662L17.4834 8.75277C18.1722 9.4416 18.1722 10.5584 17.4834 11.2472L11.2472 17.4834C10.5584 18.1722 9.4416 18.1722 8.75277 17.4834L2.51662 11.2472C1.82779 10.5584 1.82779 9.4416 2.51662 8.75277L8.75277 2.51662C9.4416 1.82779 10.5584 1.82779 11.2472 2.51662ZM11 13C11 13.5523 10.5523 14 10 14C9.44772 14 9 13.5523 9 13C9 12.4477 9.44772 12 10 12C10.5523 12 11 12.4477 11 13ZM9.98975 7H10.0101C10.621 7.0074 11.0826 7.59236 10.9876 8.24396L10.5599 10.4817C10.5192 10.7779 10.2816 11 10.0033 11H9.99653C9.71823 11 9.48066 10.7779 9.43993 10.4817L9.01229 8.24396C8.91726 7.59236 9.38562 7 9.98975 7Z\"\r\n        fill=\"#D61F1F\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useDevices() {\r\n  const [devices, setDevices] = useState<MediaDeviceInfo[]>([]);\r\n\r\n  useEffect(() => {\r\n    const getDevices = () => navigator.mediaDevices.enumerateDevices().then((newDevices) => setDevices(newDevices));\r\n    navigator.mediaDevices.addEventListener('devicechange', getDevices);\r\n    getDevices();\r\n\r\n    return () => {\r\n      navigator.mediaDevices.removeEventListener('devicechange', getDevices);\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    audioInputDevices: devices.filter((device) => device.kind === 'audioinput'),\r\n    videoInputDevices: devices.filter((device) => device.kind === 'videoinput'),\r\n    audioOutputDevices: devices.filter((device) => device.kind === 'audiooutput'),\r\n  };\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { MenuItem, Typography, FormControl, makeStyles, Select } from '@material-ui/core';\r\nimport { SmallError } from '../../../../icons/SmallError';\r\nimport useDevices from '../../../../hooks/useDevices/useDevices';\r\n\r\nconst labels = {\r\n  audioinput: {\r\n    audioLevelText: 'Input level',\r\n    headerText: 'Microphone',\r\n  },\r\n  audiooutput: {\r\n    audioLevelText: 'Output level',\r\n    headerText: 'Speaker',\r\n  },\r\n};\r\n\r\ninterface AudioDeviceProps {\r\n  disabled: boolean;\r\n  kind: 'audioinput' | 'audiooutput';\r\n  onDeviceChange: (value: string) => void;\r\n  setDeviceError: (value: string) => void;\r\n  error?: string;\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  form: {\r\n    margin: '0.5em 0 1em',\r\n  },\r\n  deviceLabelContainer: {\r\n    margin: '0.8em 0',\r\n  },\r\n  deviceList: {\r\n    height: '36px',\r\n  },\r\n  error: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '1em',\r\n    '& svg': {\r\n      marginRight: '0.3em',\r\n    },\r\n  },\r\n});\r\n\r\nexport function AudioDevice({ disabled, kind, onDeviceChange, setDeviceError, error }: AudioDeviceProps) {\r\n  const classes = useStyles();\r\n  const devices = useDevices();\r\n  const audioDevices = kind === 'audiooutput' ? devices.audioOutputDevices : devices.audioInputDevices;\r\n  const [selectedDevice, setSelectedDevice] = useState('');\r\n  const { headerText } = labels[kind];\r\n  const noAudioRedirect = !Audio.prototype.setSinkId && kind === 'audiooutput';\r\n\r\n  const updateSelectedDevice = useCallback(\r\n    (value: string) => {\r\n      onDeviceChange(value);\r\n      setSelectedDevice(value);\r\n      setDeviceError('');\r\n    },\r\n    [onDeviceChange, setSelectedDevice, setDeviceError]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const hasSelectedDevice = audioDevices.some((device) => device.deviceId === selectedDevice);\r\n    if (audioDevices.length && !hasSelectedDevice) {\r\n      updateSelectedDevice(audioDevices[0].deviceId);\r\n    }\r\n  }, [audioDevices, devices, selectedDevice, updateSelectedDevice]);\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"subtitle2\">\r\n        <strong>{headerText}</strong>\r\n      </Typography>\r\n\r\n      {noAudioRedirect && (\r\n        <div className={classes.deviceLabelContainer}>\r\n          <Typography variant=\"body1\">System Default Audio Output</Typography>\r\n        </div>\r\n      )}\r\n\r\n      {!noAudioRedirect && (\r\n        <FormControl variant=\"outlined\" disabled={disabled} className={classes.form} fullWidth>\r\n          <Select\r\n            value={selectedDevice}\r\n            onChange={(e) => updateSelectedDevice(e.target.value as string)}\r\n            className={classes.deviceList}\r\n          >\r\n            {audioDevices.map((device) => (\r\n              <MenuItem value={device.deviceId} key={device.deviceId}>\r\n                {device.label}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      )}\r\n\r\n      {error && (\r\n        <div className={classes.error}>\r\n          <SmallError />\r\n          <Typography variant=\"subtitle2\" color=\"error\">\r\n            {error === 'No audio detected' ? 'No audio detected.' : 'Unable to connect.'}\r\n          </Typography>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(AudioDevice);\r\n","import { useRef, useEffect } from 'react';\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    position: 'relative',\r\n    margin: '0 0.2em 0',\r\n    height: '4px',\r\n    '& div': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n    },\r\n  },\r\n  progress: {\r\n    background: '#14B053',\r\n    right: '100%',\r\n  },\r\n  background: {\r\n    right: 0,\r\n    background: alpha('#E1E3EA', 0.2),\r\n  },\r\n});\r\n\r\ninterface ProgressBarProps {\r\n  duration: number;\r\n  position: number;\r\n  style?: { [key: string]: string };\r\n}\r\n\r\nexport default function ProgressBar({ duration, position, style }: ProgressBarProps) {\r\n  const classes = useStyles();\r\n  const progressBarRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const el = progressBarRef.current;\r\n    if (el) {\r\n      window.requestAnimationFrame(() => {\r\n        // We set these values asynchronously so that the browser can recognize the change in the 'right' value.\r\n        // Without this, the progress bar would instantly snap to the designated position.\r\n        el.style.transition = `right ${duration}s linear`;\r\n        el.style.right = `${Math.max(0, 100 - position)}%`;\r\n      });\r\n    }\r\n  }, [duration, position]);\r\n\r\n  return (\r\n    <div className={classes.container} style={{ ...style }}>\r\n      <div className={classes.progress} ref={progressBarRef} data-testid=\"progressBar\"></div>\r\n      <div className={classes.background}></div>\r\n    </div>\r\n  );\r\n}\r\n","import { name } from '../package.json';\r\n\r\nexport const APP_NAME = name;\r\n\r\nexport const AUDIO_LEVEL_THRESHOLD = 200;\r\n\r\nexport const AUDIO_LEVEL_STANDARD_DEVIATION_THRESHOLD = AUDIO_LEVEL_THRESHOLD * 0.05; // 5% threshold\r\n\r\nexport const INPUT_TEST_DURATION = 20000;\r\n\r\nexport const RECORD_DURATION = 4000;\r\n","import { AUDIO_LEVEL_THRESHOLD } from '../constants';\r\n\r\nexport function getAudioLevelPercentage(level: number) {\r\n  return (level * 100) / AUDIO_LEVEL_THRESHOLD; // 0 to 100\r\n}\r\n\r\nexport function getStandardDeviation(values: number[]): number {\r\n  // Same method used in client sdks\r\n  // https://github.com/twilio/twilio-client.js/blob/master/lib/twilio/statsMonitor.ts#L88\r\n\r\n  if (values.length <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  const valueAverage: number =\r\n    values.reduce((partialSum: number, value: number) => partialSum + value, 0) / values.length;\r\n\r\n  const diffSquared: number[] = values.map((value: number) => Math.pow(value - valueAverage, 2));\r\n\r\n  const stdDev: number = Math.sqrt(\r\n    diffSquared.reduce((partialSum: number, value: number) => partialSum + value, 0) / diffSquared.length\r\n  );\r\n\r\n  return round(stdDev);\r\n}\r\n\r\nexport const round = (num: number, decimals = 2) =>\r\n  Math.round((num + Number.EPSILON) * 10 ** decimals) / 10 ** decimals;\r\n","import { useState, useCallback } from 'react';\r\nimport { getLogger } from 'loglevel';\r\nimport {\r\n  AudioInputTest,\r\n  AudioOutputTest,\r\n  DiagnosticError,\r\n  testAudioInputDevice,\r\n  testAudioOutputDevice,\r\n  WarningName,\r\n} from '@twilio/rtc-diagnostics';\r\n\r\nimport { getAudioLevelPercentage, getStandardDeviation } from '../../../../utils';\r\nimport { APP_NAME, INPUT_TEST_DURATION, RECORD_DURATION } from '../../../../constants';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\n\r\nconst log = getLogger(APP_NAME);\r\nlet audioInputTest: AudioInputTest;\r\nlet audioOutputTest: AudioOutputTest;\r\n\r\nconst getErrorMessage = (error: DiagnosticError) => {\r\n  let message = 'An unknown error has occurred';\r\n  if (error) {\r\n    message = error.domError ? error.domError.toString() : error.message;\r\n  }\r\n  return message;\r\n};\r\n\r\nexport default function useAudioTest() {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isAudioInputTestRunning, setIsAudioInputTestRunning] = useState(false);\r\n  const [isAudioOutputTestRunning, setIsAudioOutputTestRunning] = useState(false);\r\n  const [inputLevel, setInputLevel] = useState(0);\r\n  const [outputLevel, setOutputLevel] = useState(0);\r\n  const [playbackURI, setPlaybackURI] = useState('');\r\n  const [error, setError] = useState('');\r\n  const { dispatch } = useAppStateContext();\r\n\r\n  const playAudio = useCallback(\r\n    (options: AudioOutputTest.Options) => {\r\n      log.debug('AudioOutputTest running');\r\n\r\n      options = { doLoop: false, ...options };\r\n      audioOutputTest = testAudioOutputDevice(options);\r\n      setIsAudioOutputTestRunning(true);\r\n\r\n      audioOutputTest.on(AudioOutputTest.Events.Volume, (value: number) => {\r\n        setOutputLevel(getAudioLevelPercentage(value));\r\n      });\r\n\r\n      audioOutputTest.on(AudioOutputTest.Events.End, (report: AudioOutputTest.Report) => {\r\n        setIsAudioOutputTestRunning(false);\r\n        setOutputLevel(0);\r\n\r\n        const stdDev = getStandardDeviation(report.values);\r\n        if (stdDev === 0) {\r\n          setError('No audio detected');\r\n        }\r\n        log.debug('AudioOutputTest ended', report);\r\n        dispatch({ type: 'set-audio-output-test-report', report: report });\r\n      });\r\n\r\n      audioOutputTest.on(AudioOutputTest.Events.Error, (diagnosticError: DiagnosticError) => {\r\n        log.debug('error', diagnosticError);\r\n        setError(getErrorMessage(diagnosticError));\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const readAudioInput = useCallback(\r\n    (options: AudioInputTest.Options) => {\r\n      if (audioInputTest) {\r\n        audioInputTest.stop();\r\n      }\r\n\r\n      log.debug('AudioInputTest running');\r\n      const duration = options.enableRecording ? RECORD_DURATION : INPUT_TEST_DURATION;\r\n      options = { duration, ...options };\r\n      audioInputTest = testAudioInputDevice(options);\r\n\r\n      setIsAudioInputTestRunning(true);\r\n      if (options.enableRecording) {\r\n        log.debug('Recording audio');\r\n        setIsRecording(true);\r\n      }\r\n\r\n      audioInputTest.on(AudioInputTest.Events.Volume, (value: number) => {\r\n        setInputLevel(getAudioLevelPercentage(value));\r\n      });\r\n\r\n      audioInputTest.on(AudioInputTest.Events.End, (report: AudioInputTest.Report) => {\r\n        if (playbackURI && report.recordingUrl) {\r\n          URL.revokeObjectURL(playbackURI);\r\n        }\r\n\r\n        if (report.recordingUrl) {\r\n          setPlaybackURI(report.recordingUrl);\r\n        }\r\n\r\n        setIsRecording(false);\r\n        setIsAudioInputTestRunning(false);\r\n        log.debug('AudioInputTest ended', report);\r\n        dispatch({ type: 'set-audio-input-test-report', report: report });\r\n      });\r\n\r\n      audioInputTest.on(AudioInputTest.Events.Error, (diagnosticError: DiagnosticError) => {\r\n        log.debug('error', diagnosticError);\r\n        setError(getErrorMessage(diagnosticError));\r\n      });\r\n      audioInputTest.on(AudioInputTest.Events.Warning, (name: WarningName) => {\r\n        log.debug('warning', name);\r\n      });\r\n      audioInputTest.on(AudioInputTest.Events.WarningCleared, (name: WarningName) => {\r\n        log.debug('warning-cleared', name);\r\n      });\r\n    },\r\n    [playbackURI, dispatch]\r\n  );\r\n\r\n  const stopAudioTest = useCallback(() => {\r\n    if (audioInputTest) {\r\n      audioInputTest.stop();\r\n      setInputLevel(0);\r\n    }\r\n    if (audioOutputTest) {\r\n      audioOutputTest.stop();\r\n      setOutputLevel(0);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    error,\r\n    setError,\r\n    isRecording,\r\n    isAudioInputTestRunning,\r\n    isAudioOutputTestRunning,\r\n    playAudio,\r\n    playbackURI,\r\n    readAudioInput,\r\n    stopAudioTest,\r\n    inputLevel,\r\n    outputLevel,\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nfunction Microphone() {\r\n  return (\r\n    <svg width=\"12\" height=\"17\" viewBox=\"0 0 12 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M3.11111 2.83333C3.11111 1.26812 4.37982 0 5.94444 0C7.51014 0 8.77778 1.26764 8.77778 2.83333V7.16667C8.77778 8.73129 7.50966 10 5.94444 10C4.3803 10 3.11111 8.73081 3.11111 7.16667V2.83333ZM7.77778 2.83333C7.77778 1.81992 6.95786 1 5.94444 1C4.932 1 4.11111 1.82051 4.11111 2.83333V7.16667C4.11111 8.17852 4.93259 9 5.94444 9C6.95727 9 7.77778 8.17911 7.77778 7.16667V2.83333ZM11.3889 6.66667C11.665 6.66667 11.8889 6.89052 11.8889 7.16667C11.8889 10.2813 9.49349 12.8365 6.44444 13.0904V15.7222C6.44444 15.9984 6.22059 16.2222 5.94444 16.2222C5.69898 16.2222 5.49484 16.0453 5.4525 15.8121L5.44444 15.7222V13.0904C2.3954 12.8365 0 10.2813 0 7.16667C0 6.89052 0.223858 6.66667 0.5 6.66667C0.776142 6.66667 1 6.89052 1 7.16667C1 9.89741 3.2137 12.1111 5.94444 12.1111C8.67519 12.1111 10.8889 9.89741 10.8889 7.16667C10.8889 6.89052 11.1127 6.66667 11.3889 6.66667Z\"\r\n        fill=\"#4B5671\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(Microphone);\r\n","import React from 'react';\r\n\r\nfunction SpeakerIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M9.12991 4.22311L5.26525 7.71535H3.41149C2.62537 7.71535 2 8.24395 2 9.00737V10.8531L2.00578 10.9807C2.0708 11.6993 2.67643 12.3297 3.41149 12.3297H5.26619L9.14319 15.7851C9.355 15.9926 9.69858 16.0603 9.99016 15.9419C10.2851 15.8223 10.4683 15.5399 10.4689 15.2313L10.4689 4.77139C10.4683 4.46179 10.2851 4.17862 9.99016 4.05894C9.69858 3.94059 9.355 4.00305 9.12991 4.22311ZM9.52795 5.11655V14.9267L5.76921 11.529C5.68232 11.4504 5.56848 11.4068 5.45031 11.4068H3.41149C3.18194 11.4068 2.94099 11.1379 2.94099 10.8531V9.00737C2.94099 8.78663 3.11657 8.63822 3.41149 8.63822H5.45031C5.56848 8.63822 5.68232 8.59461 5.76921 8.51606L9.52795 5.11655ZM15.6532 4.66938C15.4624 4.49642 15.1647 4.50793 14.9884 4.69509C14.812 4.88225 14.8237 5.17419 15.0146 5.34715C16.3179 6.5284 17.059 8.18978 17.059 9.93024C17.059 11.6707 16.3179 13.3321 15.0146 14.5133C14.8237 14.6863 14.812 14.9782 14.9884 15.1654C15.1647 15.3526 15.4624 15.3641 15.6532 15.1911C17.1493 13.8352 18 11.9281 18 9.93024C18 7.93239 17.1493 6.02532 15.6532 4.66938ZM13.0961 5.95963C13.2533 5.7567 13.5484 5.71716 13.7554 5.87132C15.049 6.83518 15.8087 8.33688 15.8087 9.93024C15.8087 11.5236 15.049 13.0253 13.7554 13.9892C13.5484 14.1433 13.2533 14.1038 13.0961 13.9009C12.9389 13.6979 12.9792 13.4085 13.1861 13.2543C14.2456 12.4649 14.8678 11.2351 14.8678 9.93024C14.8678 8.62536 14.2456 7.39554 13.1861 6.60619C12.9792 6.45203 12.9389 6.16255 13.0961 5.95963ZM12.1572 7.4037C11.947 7.25381 11.6528 7.29937 11.4999 7.50546C11.3471 7.71156 11.3936 8.00015 11.6037 8.15005C13.0228 9.1623 13.0216 10.6997 11.6038 11.7104C11.3936 11.8602 11.3471 12.1488 11.4999 12.3549C11.6526 12.5611 11.9469 12.6067 12.1571 12.4569C14.0915 11.0779 14.0933 8.78475 12.1572 7.4037Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(SpeakerIcon);\r\n","import { useEffect, useRef, useState } from 'react';\nimport { Button, Paper, Typography, Container, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AudioDevice from './AudioDevice/AudioDevice';\nimport ProgressBar from './ProgressBar/ProgressBar';\nimport useAudioTest from './useAudioTest/useAudioTest';\nimport { ActivePane, useAppStateContext } from '../../AppStateProvider/AppStateProvider';\nimport Microphone from '../../../icons/Microphone';\nimport Speaker from '../../../icons/SpeakerIcon';\n\nconst useStyles = makeStyles({\n  paper: {\n    display: 'inline-block',\n    padding: '23px',\n    borderRadius: '8px',\n    minHeight: '280px',\n    width: '300px',\n  },\n  audioLevelContainer: {\n    display: 'flex',\n    alignItems: 'left',\n    height: '2.5em',\n  },\n  topLine: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'baseline',\n  },\n});\n\nexport function AudioTest() {\n  const classes = useStyles();\n  const [inputDeviceId, setInputDeviceId] = useState('');\n  const [outputDeviceId, setOutputDeviceId] = useState('');\n  const previousInputDeviceIdRef = useRef('');\n  const { state, dispatch } = useAppStateContext();\n\n  const {\n    error,\n    setError,\n    isRecording,\n    isAudioInputTestRunning,\n    isAudioOutputTestRunning,\n    playAudio,\n    playbackURI,\n    readAudioInput,\n    stopAudioTest,\n    inputLevel,\n    outputLevel,\n  } = useAudioTest();\n\n  const volumeLevel = isAudioOutputTestRunning ? outputLevel : inputLevel;\n\n  const disableAll = isRecording || isAudioOutputTestRunning || (!!error && error !== 'No audio detected');\n\n  const handleRecordClick = () => {\n    readAudioInput({ deviceId: inputDeviceId, enableRecording: true });\n  };\n\n  const handlePlayClick = () => {\n    playAudio({ deviceId: outputDeviceId, testURI: playbackURI });\n  };\n\n  // stop test when not on AudioTest and there's an active test\n  useEffect(() => {\n    if (state.activePane !== ActivePane.AudioTest && (isAudioOutputTestRunning || isAudioInputTestRunning)) {\n      stopAudioTest();\n    }\n  }, [state.activePane, stopAudioTest, isAudioInputTestRunning, isAudioOutputTestRunning]);\n\n  // start audio test when on AudioTest and deviceId changes\n  useEffect(() => {\n    if (state.activePane === ActivePane.AudioTest) {\n      const newInputDeviceSelected = previousInputDeviceIdRef.current !== inputDeviceId;\n      previousInputDeviceIdRef.current = inputDeviceId;\n\n      // Restarts the test to continuously capture audio input\n      if (!error && (newInputDeviceSelected || (!isRecording && !isAudioInputTestRunning))) {\n        readAudioInput({ deviceId: inputDeviceId });\n      }\n    }\n    if (error) {\n      stopAudioTest();\n    }\n  }, [\n    error,\n    state.activePane,\n    inputDeviceId,\n    isRecording,\n    isAudioInputTestRunning,\n    readAudioInput,\n    dispatch,\n    stopAudioTest,\n  ]);\n\n  return (\n    <Container>\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n        <Grid item md={5}>\n          <Typography variant=\"h1\" gutterBottom>\n            Test your audio\n          </Typography>\n\n          <Typography variant=\"body1\" gutterBottom>\n            Record an audio clip and play it back to check that your microphone and speaker are working. If they aren't,\n            make sure your volume is turned up, try a different speaker or microphone, or check your bluetooth settings.\n          </Typography>\n\n          <Typography variant=\"body1\" gutterBottom>\n            <strong> Does your audio sound good?</strong>\n          </Typography>\n\n          <Button\n            variant=\"contained\"\n            style={{ marginRight: '1.5em' }}\n            color=\"primary\"\n            onClick={() => dispatch({ type: 'next-pane' })}\n            disabled={!!error && error !== 'No audio detected'}\n          >\n            Yes\n          </Button>\n\n          <Button\n            color=\"primary\"\n            onClick={() => dispatch({ type: 'next-pane' })}\n            disabled={!!error && error !== 'No audio detected'}\n          >\n            Skip for now\n          </Button>\n        </Grid>\n        ​\n        <Grid item md={5}>\n          <Paper className={classes.paper}>\n            <div className={classes.topLine}>\n              <Typography variant=\"subtitle2\">\n                <strong>Audio</strong>\n              </Typography>\n              <div>\n                <Button\n                  variant=\"outlined\"\n                  style={{ marginRight: '1em' }}\n                  size=\"small\"\n                  disabled={disableAll}\n                  onClick={handleRecordClick}\n                >\n                  Record\n                </Button>\n                <Button variant=\"outlined\" size=\"small\" disabled={!playbackURI || disableAll} onClick={handlePlayClick}>\n                  Play back\n                </Button>\n              </div>\n            </div>\n            ​\n            <AudioDevice\n              disabled={disableAll}\n              kind=\"audiooutput\"\n              onDeviceChange={setOutputDeviceId}\n              setDeviceError={setError}\n            />\n            <AudioDevice\n              disabled={disableAll}\n              kind=\"audioinput\"\n              onDeviceChange={setInputDeviceId}\n              setDeviceError={setError}\n              error={error}\n            />\n            <div className={classes.audioLevelContainer}>\n              <div style={{ width: '2em', display: 'flex', justifyContent: 'center' }}>\n                {isAudioOutputTestRunning ? <Speaker /> : <Microphone />}\n              </div>\n              <ProgressBar position={volumeLevel} duration={0.1} style={{ flex: '1' }} />\n            </div>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import { makeStyles, Button, Container, Grid, Typography, Paper } from '@material-ui/core';\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\n\nconst useStyles = makeStyles({\n  paper: {\n    padding: '1.5em',\n    borderRadius: '8px',\n    width: '300px',\n  },\n  paperContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n});\n\nexport function SupportedBrowser() {\n  const { dispatch, userAgentInfo } = useAppStateContext();\n  const classes = useStyles();\n\n  const browser = userAgentInfo.browser;\n  const operatingSystem = userAgentInfo.os;\n\n  return (\n    <>\n      <Container>\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n          <Grid item md={5}>\n            <Typography variant=\"h1\" gutterBottom>\n              Browser supported\n            </Typography>\n            <Typography variant=\"body1\" gutterBottom>\n              Looks like your browser is good to go. We're almost done!\n            </Typography>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => dispatch({ type: 'next-pane' })}\n              style={{ marginRight: '1.5em' }}\n            >\n              Ok\n            </Button>\n          </Grid>\n\n          <Grid item md={5} className={classes.paperContainer}>\n            <Paper className={classes.paper}>\n              <Typography variant=\"body1\">\n                <strong>Browser: </strong>\n                {browser.name} {browser.version}\n              </Typography>\n              ​\n              <Typography variant=\"body1\">\n                <strong>Operating System: </strong>\n                {operatingSystem.name} {operatingSystem.version}\n              </Typography>\n            </Paper>\n          </Grid>\n        </Grid>\n      </Container>\n    </>\n  );\n}\n","export function CopyIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M14.6812 3.59414C14.6188 2.97958 14.0998 2.5 13.4688 2.5H3.71875L3.59414 2.50629C2.97958 2.5687 2.5 3.08772 2.5 3.71875V13.4688L2.50629 13.5934C2.5687 14.2079 3.08772 14.6875 3.71875 14.6875H5.3125V16.0938C5.3125 16.8704 5.9421 17.5 6.71875 17.5H16.0938C16.8704 17.5 17.5 16.8704 17.5 16.0938V6.71875C17.5 5.9421 16.8704 5.3125 16.0938 5.3125H14.6875V3.71875L14.6812 3.59414ZM13.75 5.3125V3.71875C13.75 3.58561 13.6575 3.47408 13.5332 3.44493L13.4688 3.4375H3.71875C3.58561 3.4375 3.47408 3.53001 3.44493 3.65426L3.4375 3.71875V13.4688C3.4375 13.6019 3.53001 13.7134 3.65426 13.7426L3.71875 13.75H5.3125V6.71875C5.3125 5.9421 5.9421 5.3125 6.71875 5.3125H13.75ZM6.71875 6.25H16.0938C16.3526 6.25 16.5625 6.45987 16.5625 6.71875V16.0938C16.5625 16.3526 16.3526 16.5625 16.0938 16.5625H6.71875C6.45987 16.5625 6.25 16.3526 6.25 16.0938V6.71875C6.25 6.45987 6.45987 6.25 6.71875 6.25Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function ErrorIcon() {\r\n  return (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M13.7461 1.52332L22.4767 10.2539C23.4411 11.2183 23.4411 12.7818 22.4767 13.7462L13.7461 22.4768C12.7818 23.4411 11.2182 23.4411 10.2539 22.4768L1.52327 13.7462C0.55891 12.7818 0.55891 11.2183 1.52327 10.2539L10.2539 1.52332C11.2182 0.55896 12.7818 0.55896 13.7461 1.52332ZM13.4 16.2C13.4 16.9732 12.7732 17.6 12 17.6C11.2268 17.6 10.6 16.9732 10.6 16.2C10.6 15.4269 11.2268 14.8 12 14.8C12.7732 14.8 13.4 15.4269 13.4 16.2ZM11.9856 7.80005H12.0142C12.8694 7.81042 13.5156 8.62935 13.3826 9.54159L12.7839 12.6744C12.7269 13.0891 12.3943 13.4 12.0047 13.4H11.9951C11.6055 13.4 11.2729 13.0891 11.2159 12.6744L10.6172 9.54159C10.4842 8.62935 11.1399 7.80005 11.9856 7.80005Z\"\r\n        fill=\"#D61F1F\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { makeStyles, Typography, Table, TableHead, TableBody, TableRow, TableCell, Link } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n  tableHead: {\r\n    background: '#F4F4F6',\r\n  },\r\n  table: {\r\n    '& td': {\r\n      padding: '0.9em',\r\n    },\r\n  },\r\n});\r\n\r\nexport function SupportedList() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Table className={classes.table}>\r\n        <TableHead className={classes.tableHead}>\r\n          <TableRow>\r\n            <TableCell>\r\n              <Typography variant=\"body1\">\r\n                <strong>Supported browsers</strong>\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell>\r\n              <Typography variant=\"body1\">\r\n                <Link\r\n                  color=\"inherit\"\r\n                  underline=\"always\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener\"\r\n                  href=\"https://www.google.com/chrome/\"\r\n                >\r\n                  Chrome\r\n                </Link>\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <Typography variant=\"body1\">\r\n                <Link\r\n                  color=\"inherit\"\r\n                  underline=\"always\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener\"\r\n                  href=\"https://www.mozilla.org/en-US/firefox/new/\"\r\n                >\r\n                  Firefox\r\n                </Link>\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <Typography variant=\"body1\">\r\n                <Link\r\n                  color=\"inherit\"\r\n                  underline=\"always\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener\"\r\n                  href=\"https://support.apple.com/downloads/safari\"\r\n                >\r\n                  Safari\r\n                </Link>\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell style={{ borderBottom: 'none' }}>\r\n              <Typography variant=\"body1\">\r\n                <Link\r\n                  color=\"inherit\"\r\n                  underline=\"always\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener\"\r\n                  href=\"https://www.microsoft.com/en-us/edge\"\r\n                >\r\n                  Edge\r\n                </Link>\r\n              </Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  makeStyles,\r\n  TextField,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  InputAdornment,\r\n  IconButton,\r\n  Link,\r\n} from '@material-ui/core';\r\nimport { CopyIcon } from '../../../../icons/CopyIcon';\r\nimport { ErrorIcon } from '../../../../icons/ErrorIcon';\r\nimport { SupportedList } from './SupportedList';\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    padding: '1.5em',\r\n    borderRadius: '8px',\r\n    width: '388px',\r\n  },\r\n  paperContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  copyButton: {\r\n    borderLeft: 'solid 1px #E1E3EA',\r\n    maxHeight: '2.5em',\r\n    display: 'flex',\r\n  },\r\n  errorIcon: {\r\n    position: 'absolute',\r\n    right: 'calc(100% + 18px)',\r\n  },\r\n  caption: {\r\n    marginTop: '1.3em',\r\n  },\r\n});\r\n\r\nexport function UnsupportedBrowser() {\r\n  const classes = useStyles();\r\n\r\n  const appURL = window.location.href;\r\n\r\n  const copyAppLink = () => {\r\n    navigator.clipboard.writeText(appURL);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item md={5}>\r\n            <Typography variant=\"h1\" gutterBottom style={{ position: 'relative' }}>\r\n              <div className={classes.errorIcon}>\r\n                <ErrorIcon />\r\n              </div>{' '}\r\n              New browser needed\r\n            </Typography>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              Oh no, your browser isn't supported! Download and install a new one from the list, copy this url and paste\r\n              it into your new browser to restart the test.\r\n            </Typography>\r\n            <TextField\r\n              fullWidth={true}\r\n              id=\"read-only-app-link\"\r\n              defaultValue={appURL}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <div className={classes.copyButton}>\r\n                      <IconButton edge=\"end\" onClick={copyAppLink}>\r\n                        <CopyIcon />\r\n                      </IconButton>\r\n                    </div>\r\n                  </InputAdornment>\r\n                ),\r\n                readOnly: true,\r\n              }}\r\n            />\r\n          </Grid>\r\n          ​\r\n          <Grid item md={5} className={classes.paperContainer}>\r\n            <Paper className={classes.paper}>\r\n              <SupportedList />\r\n            </Paper>\r\n            <Typography variant=\"caption\" align=\"center\" className={classes.caption}>\r\n              We support the most recent and the two previous versions. Please{' '}\r\n              <Link\r\n                color=\"inherit\"\r\n                underline=\"always\"\r\n                target=\"_blank\"\r\n                rel=\"noopener\"\r\n                href=\"https://www.twilio.com/docs/video/javascript#supported-browsers\"\r\n              >\r\n                visit our docs\r\n              </Link>{' '}\r\n              for more details.\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import { SupportedBrowser } from './SupportedBrowser/SupportedBrowser';\r\nimport { UnsupportedBrowser } from './UnsupportedBrowser/UnsupportedBrowser';\r\nimport Video from 'twilio-video';\r\n\r\nexport function BrowserTest() {\r\n  return <>{Video.isSupported ? <SupportedBrowser /> : <UnsupportedBrowser />}</>;\r\n}\r\n","import { useState, useEffect, useRef } from 'react';\nimport {\n  Button,\n  Container,\n  FormControl,\n  makeStyles,\n  Grid,\n  MenuItem,\n  Paper,\n  Select,\n  Typography,\n} from '@material-ui/core';\nimport clsx from 'clsx';\nimport { ActivePane, useAppStateContext } from '../../AppStateProvider/AppStateProvider';\nimport { SmallError } from '../../../icons/SmallError';\nimport { useCameraTest } from './useCameraTest/useCameraTest';\nimport useDevices from '../../../hooks/useDevices/useDevices';\n\nconst useStyles = makeStyles({\n  paper: {\n    padding: '1em',\n    borderRadius: '8px',\n    width: '300px',\n  },\n  videoContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  mobileAspectRatioContainer: {\n    '@media (max-width:600px)': {\n      minHeight: '300px',\n    },\n  },\n  aspectRatioContainer: {\n    position: 'relative',\n    display: 'flex',\n    width: '99%',\n    padding: '5px',\n    margin: '1em 0',\n    '&::after': {\n      content: '\"\"',\n      paddingTop: '56.25%',\n    },\n    '& video': {\n      position: 'absolute',\n      height: '100%',\n      width: '100%',\n      objectFit: 'cover',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n  },\n  error: {\n    display: 'flex',\n    alignItems: 'center',\n    margin: '0.5em 0',\n    '& svg': {\n      marginRight: '0.3em',\n    },\n  },\n});\n\nexport function CameraTest() {\n  const classes = useStyles();\n  const { videoInputDevices } = useDevices();\n  const { state, dispatch } = useAppStateContext();\n  const { videoElementRef, startVideoTest, stopVideoTest, videoTest, videoTestError } = useCameraTest();\n\n  const prevVideoDeviceID = useRef('');\n  const [videoInputDeviceID, setVideoInputDeviceID] = useState('');\n\n  const setDevice = (deviceID: string) => {\n    setVideoInputDeviceID(deviceID);\n  };\n\n  useEffect(() => {\n    // Stop the test when we are not on the CameraTest pane and there is an active test\n    if (state.activePane !== ActivePane.CameraTest && videoTest) {\n      stopVideoTest();\n      prevVideoDeviceID.current = '';\n    }\n  }, [state.activePane, stopVideoTest, videoTest]);\n\n  useEffect(() => {\n    // Start the test when we are on the CameraTest pane and when the videoInputDeviceID changes\n    if (state.activePane === ActivePane.CameraTest) {\n      const newDeviceSelected = prevVideoDeviceID.current !== videoInputDeviceID;\n      prevVideoDeviceID.current = videoInputDeviceID;\n\n      if (videoInputDeviceID && newDeviceSelected) {\n        startVideoTest(videoInputDeviceID);\n      }\n\n      if (videoTestError) {\n        stopVideoTest();\n      }\n    }\n  }, [state.activePane, videoInputDeviceID, startVideoTest, stopVideoTest, videoTestError, dispatch]);\n\n  useEffect(() => {\n    // If no device is select, set the first available device as the active device.\n    const hasSelectedDevice = videoInputDevices.some((device) => device.deviceId === videoInputDeviceID);\n    if (videoInputDevices.length && !hasSelectedDevice) {\n      setVideoInputDeviceID(videoInputDevices[0].deviceId);\n    }\n  }, [videoInputDevices, videoInputDeviceID]);\n\n  return (\n    <Container>\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n        <Grid item md={5}>\n          <Typography variant=\"h1\" gutterBottom>\n            Check your video\n          </Typography>\n\n          <Typography variant=\"body1\" gutterBottom>\n            Move in front of your camera to make sure it’s working. If you don't see your video, try changing the\n            selected camera. If the camera isn’t part of your computer, check your settings to make sure your system\n            recognizes it.\n          </Typography>\n          <Typography variant=\"body1\" gutterBottom>\n            <strong>Does your video look ok?</strong>\n          </Typography>\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => dispatch({ type: 'next-pane' })}\n            style={{ marginRight: '1.5em' }}\n            disabled={!!videoTestError}\n          >\n            Yes\n          </Button>\n          <Button color=\"primary\" onClick={() => dispatch({ type: 'next-pane' })} disabled={!!videoTestError}>\n            Skip for now\n          </Button>\n        </Grid>\n\n        <Grid item md={5}>\n          <Paper className={clsx(classes.paper)}>\n            <Grid container direction=\"column\" alignItems=\"center\">\n              <Typography variant=\"subtitle2\">\n                <strong>Video Preview</strong>\n              </Typography>\n              <div className={clsx(classes.aspectRatioContainer, classes.mobileAspectRatioContainer)}>\n                <video loop muted playsInline autoPlay ref={videoElementRef} />\n              </div>\n            </Grid>\n            <FormControl fullWidth>\n              <Typography variant=\"subtitle2\">\n                <strong>Camera</strong>\n              </Typography>\n              <Select\n                onChange={(e) => setDevice(e.target.value as string)}\n                value={videoInputDeviceID}\n                variant=\"outlined\"\n                disabled={!!videoTestError}\n              >\n                {videoInputDevices.map((device) => (\n                  <MenuItem value={device.deviceId} key={device.deviceId}>\n                    {device.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            {videoTestError && (\n              <div className={classes.error}>\n                <SmallError />\n                <Typography variant=\"subtitle2\" color=\"error\">\n                  Unable to connect.\n                </Typography>\n              </div>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import { DiagnosticError, testVideoInputDevice, VideoInputTest } from '@twilio/rtc-diagnostics';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { useState, useRef, useCallback } from 'react';\r\n\r\nexport function useCameraTest() {\r\n  const { dispatch } = useAppStateContext();\r\n  const [videoTest, setVideoTest] = useState<VideoInputTest>();\r\n  const videoElementRef = useRef<HTMLVideoElement>(null!);\r\n  const [videoTestError, setVideoTestError] = useState<DiagnosticError>();\r\n\r\n  const stopVideoTest = useCallback(() => {\r\n    setVideoTest(undefined);\r\n    videoTest?.stop();\r\n  }, [videoTest]);\r\n\r\n  const startVideoTest = useCallback(\r\n    (deviceId: string) => {\r\n      stopVideoTest();\r\n      const test = testVideoInputDevice({ element: videoElementRef.current, deviceId });\r\n      setVideoTest(test);\r\n      test.on(VideoInputTest.Events.Error, (err) => setVideoTestError(err));\r\n      test.on(VideoInputTest.Events.End, (report) => dispatch({ type: 'set-video-test-report', report }));\r\n    },\r\n    [stopVideoTest, dispatch]\r\n  );\r\n\r\n  return { startVideoTest, stopVideoTest, videoElementRef, videoTest, videoTestError } as const;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/SettingsIllustration.8dc4c04e.png\";","import React from 'react';\r\nimport { Button, Container, Grid, Typography, Paper, makeStyles } from '@material-ui/core';\r\nimport SettingsIllustration from './SettingsIllustration.png';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'inline-block',\r\n    padding: '23px',\r\n    borderRadius: '8px',\r\n  },\r\n  grantPermissions: {\r\n    fontSize: '16px',\r\n    paddingBottom: '16px',\r\n  },\r\n  /* \r\n  The size of the image is explicitly stated here so that this content can properly be centered vertically\r\n  before the image is loaded.\r\n  */\r\n  illustration: {\r\n    height: '181px',\r\n    width: '337px',\r\n  },\r\n});\r\n\r\nexport function CheckPermissions() {\r\n  const classes = useStyles();\r\n  const { dispatch } = useAppStateContext();\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      // get audio and video permissions then stop the tracks\r\n      await navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(async (mediaStream) => {\r\n        mediaStream.getTracks().forEach((track) => {\r\n          track.stop();\r\n        });\r\n      });\r\n      // The devicechange event is not fired after permissions are granted, so we fire it\r\n      // ourselves to update the useDevices hook. The 100 ms delay is needed so that device labels are available\r\n      // when the useDevices hook updates.\r\n      setTimeout(() => navigator.mediaDevices.dispatchEvent(new Event('devicechange')), 500);\r\n      dispatch({ type: 'next-pane' });\r\n    } catch (error) {\r\n      dispatch({ type: 'set-device-error', error });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item md={6}>\r\n          <Typography variant=\"h1\" gutterBottom>\r\n            Check permissions\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            If you haven't already, you'll see a pop-up to grant Twilio permissions to access your camera and\r\n            microphone.\r\n          </Typography>\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            <strong>Allow all permissions and re-fresh this page.</strong>\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleClick}>\r\n            Request permissions\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item md={5}>\r\n          <Paper className={classes.paper}>\r\n            <Typography variant=\"body1\" className={classes.grantPermissions}>\r\n              <strong>Grant permissions</strong>\r\n            </Typography>\r\n            <img src={SettingsIllustration} alt=\"Settings Illustration\" className={classes.illustration} />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export function DownloadIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M10.625 3.5C10.625 3.15482 10.3452 2.875 10 2.875C9.65482 2.875 9.375 3.15482 9.375 3.5V11.9911L7.34194 9.95808C7.09787 9.714 6.70214 9.714 6.45806 9.95808C6.21398 10.2022 6.21398 10.5979 6.45806 10.842L9.58306 13.967C9.82714 14.211 10.2229 14.211 10.4669 13.967L13.5919 10.842C13.836 10.5979 13.836 10.2022 13.5919 9.95808C13.3479 9.714 12.9521 9.714 12.7081 9.95808L10.625 12.0411V3.5ZM2.875 16.5C2.875 16.1548 3.15482 15.875 3.5 15.875H16.5C16.8452 15.875 17.125 16.1548 17.125 16.5C17.125 16.8452 16.8452 17.125 16.5 17.125H3.5C3.15482 17.125 2.875 16.8452 2.875 16.5Z\"\r\n        fill=\"white\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function ViewIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M10.1066 4.5C13.3588 4.5 16.5838 6.76775 18.5321 8.90985C18.8329 9.2418 18.9997 9.67365 19 10.1216C19.0003 10.5696 18.8342 11.0017 18.5339 11.334C16.5851 13.4788 13.3601 15.7479 10.1068 15.7479H9.87281C6.63682 15.7479 3.41357 13.4788 1.46766 11.3354C1.16696 11.0034 1.00029 10.5717 1 10.1238C0.999716 9.67591 1.16584 9.2439 1.46612 8.91161C3.43553 6.74403 6.71547 4.4631 9.99892 4.50088L10.003 4.50083C10.0375 4.50042 10.0723 4.5 10.1066 4.5ZM10.0908 14.623C12.9941 14.623 15.9153 12.5433 17.6997 10.5792V10.5791C17.8126 10.4535 17.8749 10.2905 17.8747 10.1217C17.8744 9.95277 17.8115 9.78998 17.6982 9.66476C15.9146 7.70369 12.9928 5.62488 10.109 5.62488C10.0933 5.62488 10.0776 5.62512 10.0619 5.62536C10.0409 5.62569 10.0199 5.62601 9.99892 5.62575C9.9775 5.62601 9.95645 5.62568 9.9355 5.62536C9.91992 5.62512 9.9044 5.62488 9.88885 5.62488C7.0035 5.62488 4.08365 7.70368 2.30034 9.66651C2.18743 9.7921 2.1251 9.9551 2.12538 10.124C2.12567 10.2929 2.18855 10.4557 2.30187 10.5809C4.10409 12.5661 7.06479 14.6722 9.98947 14.6221C10.0231 14.6225 10.0569 14.623 10.0908 14.623ZM9.99894 6.7489H10.0009C10.8954 6.74917 11.7531 7.10462 12.3855 7.73711C13.018 8.3696 13.3734 9.22736 13.3735 10.1218V10.1249C13.3722 11.0192 13.0162 11.8765 12.3838 12.5089C11.7513 13.1412 10.8939 13.497 9.9996 13.4982H9.99784C9.10284 13.498 8.24455 13.1423 7.61178 12.5094C6.97902 11.8764 6.62362 11.018 6.62377 10.123C6.62391 9.22797 6.97959 8.36968 7.61256 7.73692C8.24553 7.10416 9.10394 6.74876 9.99894 6.7489ZM11.5891 11.7135C12.0107 11.2919 12.2479 10.7203 12.2487 10.124L12.2487 10.1222C12.2487 9.52593 12.0118 8.95407 11.5902 8.53241C11.1686 8.11076 10.5967 7.87384 10.0005 7.87378H9.99915C9.40248 7.87366 8.8302 8.11057 8.4082 8.53239C7.98621 8.95422 7.74907 9.52641 7.74895 10.1231C7.74883 10.7197 7.98574 11.292 8.40757 11.714C8.82939 12.136 9.40158 12.3732 9.99825 12.3733H9.99957C10.5958 12.3724 11.1674 12.1352 11.5891 11.7135Z\"\r\n        fill=\"#121C2D\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { createStyles, makeStyles, Button, Container, Grid, Typography, Paper } from '@material-ui/core';\r\nimport { DownloadIcon } from '../../../../icons/DownloadIcon';\r\nimport { ErrorIcon } from '../../../../icons/ErrorIcon';\r\nimport { ViewIcon } from '../../../../icons/ViewIcon';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    paper: {\r\n      padding: '1.5em',\r\n      borderRadius: '8px',\r\n    },\r\n    paperContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    errorIcon: {\r\n      position: 'absolute',\r\n      right: 'calc(100% + 18px)',\r\n    },\r\n    downloadButton: {\r\n      marginTop: '2em',\r\n      '& svg': {\r\n        position: 'relative',\r\n        left: '-5px',\r\n      },\r\n    },\r\n    viewButton: {\r\n      marginTop: '2em',\r\n      '& svg': {\r\n        position: 'relative',\r\n        left: '-5px',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\ninterface ConnectionFailedProps {\r\n  openModal: () => void;\r\n}\r\n\r\nexport function ConnectionFailed({ openModal }: ConnectionFailedProps) {\r\n  const classes = useStyles();\r\n  const { downloadFinalTestResults } = useAppStateContext();\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item md={5}>\r\n            <Typography variant=\"h1\" gutterBottom style={{ position: 'relative' }}>\r\n              <div className={classes.errorIcon}>\r\n                <ErrorIcon />\r\n              </div>\r\n              Connection failed\r\n            </Typography>\r\n\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              It's possible that you're behind a firewall that will need to be updated by your network administrator.\r\n            </Typography>\r\n\r\n            <Typography variant=\"body1\">\r\n              Download report results to send to your network admin, update your internet, and re-run this test.\r\n            </Typography>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={downloadFinalTestResults}\r\n              className={classes.downloadButton}\r\n            >\r\n              <DownloadIcon />\r\n              Download report results\r\n            </Button>\r\n          </Grid>\r\n\r\n          <Grid item md={5} className={classes.paperContainer}>\r\n            <Paper className={classes.paper}>\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                To conduct a video call, your internet needs to be able to communicate with Twilio's cloud.\r\n              </Typography>\r\n\r\n              <Typography variant=\"body1\">\r\n                Learn{' '}\r\n                <a href=\"https://www.twilio.com/docs/video/ip-addresses\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  how to configure your firewall correctly\r\n                </a>\r\n                .\r\n              </Typography>\r\n            </Paper>\r\n            <Button variant=\"outlined\" onClick={openModal} className={classes.viewButton}>\r\n              <ViewIcon />\r\n              View detailed connection information\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","export const SuccessStatus = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect width=\"20\" height=\"20\" fill=\"white\" fillOpacity=\"0.01\" />\r\n    <circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#14B053\" />\r\n  </svg>\r\n);\r\n\r\nexport const ErrorStatus = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M0 0H20V20H0V0Z\" fill=\"white\" fillOpacity=\"0.01\" />\r\n    <rect x=\"10.0713\" y=\"3\" width=\"10\" height=\"10\" transform=\"rotate(45 10.0713 3)\" fill=\"#D61F1F\" />\r\n  </svg>\r\n);\r\n\r\nexport const WarningStatus = () => (\r\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M0 0H20V20H0V0Z\" fill=\"white\" fillOpacity=\"0.01\" />\r\n    <rect x=\"10.0713\" y=\"3\" width=\"10\" height=\"10\" transform=\"rotate(45 10.0713 3)\" fill=\"#F5A623\" />\r\n  </svg>\r\n);\r\n","import {\r\n  createStyles,\r\n  makeStyles,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { ErrorStatus, SuccessStatus, WarningStatus } from '../../../../icons/StatusIcons';\r\nimport { TwilioStatus, TwilioAPIStatus } from '../../../AppStateProvider/AppStateProvider';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    modal: {\r\n      width: '100%',\r\n    },\r\n    content: {\r\n      padding: '3em',\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n    iconContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      '& svg': {\r\n        marginRight: '0.3em',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst serviceStatusObj = {\r\n  operational: { status: 'Up', icon: <SuccessStatus /> },\r\n  major_outage: { status: 'Major Outage', icon: <ErrorStatus /> },\r\n  partial_outage: { status: 'Partial Outage', icon: <WarningStatus /> },\r\n  degraded_performance: { status: 'Degraded', icon: <WarningStatus /> },\r\n};\r\n\r\nexport function TwilioStatusRow({ status, serviceName }: { status?: TwilioAPIStatus; serviceName: string }) {\r\n  const classes = useStyles();\r\n  const serviceStatus = status ? serviceStatusObj[status] : null;\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell>\r\n        <div className={classes.iconContainer}>\r\n          {serviceStatus?.icon}\r\n          <Typography variant=\"body1\">\r\n            <strong>{serviceStatus?.status}</strong>\r\n          </Typography>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <Typography variant=\"body1\">{serviceName}</Typography>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n}\r\n\r\ninterface ConnectionModalProps {\r\n  isModalOpen: boolean;\r\n  setIsModalOpen: (isModalOpen: boolean) => void;\r\n  serviceStatuses: TwilioStatus | null;\r\n  signalingGateway: string;\r\n  turnServers: string;\r\n}\r\n\r\nexport function ConnectionModal({\r\n  isModalOpen,\r\n  setIsModalOpen,\r\n  serviceStatuses,\r\n  signalingGateway,\r\n  turnServers,\r\n}: ConnectionModalProps) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isModalOpen} onClose={() => setIsModalOpen(false)} classes={{ paper: classes.modal }}>\r\n        <DialogTitle disableTypography>\r\n          <Typography variant=\"h3\">Detailed connection information</Typography>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={() => setIsModalOpen(false)}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers className={classes.content}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Status</strong>\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Type</strong>\r\n                  </Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <TwilioStatusRow status={serviceStatuses?.['Compositions']} serviceName=\"Compositions\" />\r\n              <TwilioStatusRow status={serviceStatuses?.['Go Rooms']} serviceName=\"Go Rooms\" />\r\n              <TwilioStatusRow status={serviceStatuses?.['Group Rooms']} serviceName=\"Group Rooms\" />\r\n              <TwilioStatusRow\r\n                status={serviceStatuses?.['Network Traversal Service']}\r\n                serviceName=\"Network Traversal\"\r\n              />\r\n              <TwilioStatusRow status={serviceStatuses?.['Peer-to-Peer Rooms']} serviceName=\"Peer-to-Peer Rooms\" />\r\n              <TwilioStatusRow status={serviceStatuses?.['Recordings']} serviceName=\"Recordings\" />\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {signalingGateway === 'Reachable' ? <SuccessStatus /> : <ErrorStatus />}\r\n                    <Typography variant=\"body1\">\r\n                      <strong>{signalingGateway}</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">Signaling Gateway</Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {turnServers === 'Reachable' ? <SuccessStatus /> : <ErrorStatus />}\r\n                    <Typography variant=\"body1\">\r\n                      <strong>{turnServers}</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">TURN Servers</Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Success.89b9312e.png\";","import { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { createStyles, makeStyles, Button, Container, Grid, Typography } from '@material-ui/core';\r\nimport Success from './Success.png';\r\nimport { ViewIcon } from '../../../../icons/ViewIcon';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    illustrationContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    viewButton: {\r\n      marginTop: '2em',\r\n      '& svg': {\r\n        position: 'relative',\r\n        left: '-5px',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\ninterface ConnectionSuccessProps {\r\n  openModal: () => void;\r\n}\r\n\r\nexport function ConnectionSuccess({ openModal }: ConnectionSuccessProps) {\r\n  const classes = useStyles();\r\n  const { nextPane } = useAppStateContext();\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item md={5}>\r\n            <Typography variant=\"h1\" gutterBottom>\r\n              Connection success\r\n            </Typography>\r\n\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              All connections to Twilio's servers are working correctly.\r\n            </Typography>\r\n\r\n            <Button variant=\"contained\" color=\"primary\" onClick={nextPane}>\r\n              Ok\r\n            </Button>\r\n          </Grid>\r\n\r\n          <Grid item md={5} className={classes.illustrationContainer}>\r\n            {/* \r\n          The size of the image is explicitly stated here so that this content can properly be centered vertically\r\n          before the image is loaded.\r\n          */}\r\n            <img src={Success} alt=\"Success\" style={{ width: '245px', height: '200px' }} />\r\n            <Button variant=\"outlined\" onClick={openModal} className={classes.viewButton}>\r\n              <ViewIcon />\r\n              View detailed connection information\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","export function Loading() {\r\n  return (\r\n    <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M5.75469 17.1915C5.27668 17.0676 4.99236 16.5901 5.11964 16.1249C6.90138 9.61316 12.9838 5 20.0075 5C25.877 5 31.1111 8.22361 33.7061 13.1244L34.2649 7.43001L34.2946 7.27377C34.4096 6.87105 34.8017 6.58782 35.2366 6.61943C35.7259 6.65499 36.0841 7.07557 36.0368 7.5588L35.215 15.9414L35.1819 16.1099C35.0368 16.5946 34.4946 16.883 33.9987 16.699L26.0765 13.7592L25.9333 13.6909C25.5757 13.4782 25.4181 13.0341 25.5803 12.6306L25.653 12.4877C25.877 12.1303 26.3314 11.9647 26.7371 12.1153L32.2339 14.1556C29.985 9.69468 25.2869 6.74328 20.0075 6.74328C13.8006 6.74328 8.42477 10.8205 6.85066 16.5735C6.73752 16.987 6.33725 17.2516 5.91397 17.2183L5.75469 17.1915ZM34.2457 22.8085L34.0864 22.7817C33.6631 22.7484 33.2628 23.013 33.1497 23.4265C31.5756 29.1795 26.1998 33.2567 19.9929 33.2567C14.7137 33.2567 10.0158 30.3056 7.76677 25.8451L13.2633 27.885C13.6691 28.0356 14.1234 27.87 14.3475 27.5125L14.4201 27.3697C14.5823 26.9662 14.4248 26.5221 14.0672 26.3094L13.9239 26.241L6.00169 23.3013C5.50582 23.1173 4.96368 23.4057 4.81853 23.8904L4.78546 24.0589L3.96368 32.4415C3.91631 32.9247 4.27455 33.3453 4.76384 33.3809C5.19876 33.4125 5.59083 33.1292 5.70586 32.7265L5.73555 32.5703L6.29363 26.8744C8.88845 31.7759 14.1229 35 19.9929 35C27.0166 35 33.099 30.3868 34.8807 23.8751C35.008 23.4099 34.7237 22.9324 34.2457 22.8085Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { Container, Grid, Typography, makeStyles } from '@material-ui/core';\r\nimport { ConnectionFailed } from './ConnectionFailed/ConnectionFailed';\r\nimport { ConnectionModal } from './ConnectionModal/ConnectionModal';\r\nimport { ConnectionSuccess } from './ConnectionSuccess/ConnectionSuccess';\r\nimport { Loading } from '../../../icons/Loading';\r\nimport { useAppStateContext } from '../../AppStateProvider/AppStateProvider';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  textBox: {\r\n    width: '340px',\r\n    height: '48px',\r\n    textAlign: 'center',\r\n  },\r\n  loading: {\r\n    animation: '$loading 1.5s linear infinite',\r\n    display: 'flex',\r\n  },\r\n  '@keyframes loading': {\r\n    '0%': { transform: 'rotate(0deg)' },\r\n    '100%': { transform: 'rotate(360deg)' },\r\n  },\r\n});\r\n\r\nexport function Connectivity() {\r\n  const { state } = useAppStateContext();\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const signalingGateway = state.preflightTest.signalingGatewayReachable ? 'Reachable' : 'Unreachable';\r\n  const turnServers = state.preflightTest.turnServersReachable ? 'Reachable' : 'Unreachable';\r\n\r\n  const connectionFailed =\r\n    state.preflightTestFinished &&\r\n    (state.preflightTest.error !== null ||\r\n      !state.preflightTest.signalingGatewayReachable ||\r\n      !state.preflightTest.turnServersReachable);\r\n\r\n  return (\r\n    <>\r\n      <ConnectionModal\r\n        isModalOpen={isModalOpen}\r\n        setIsModalOpen={setIsModalOpen}\r\n        serviceStatuses={state.twilioStatus}\r\n        signalingGateway={signalingGateway}\r\n        turnServers={turnServers}\r\n      />\r\n      {\r\n        /* If preflight test or bitrate test haven't completed, display loading screen otherwise, display connectivity results: */\r\n        state.preflightTestInProgress || state.bitrateTestInProgress ? (\r\n          <Container>\r\n            <Grid container className={classes.container}>\r\n              <Typography variant=\"h1\" gutterBottom>\r\n                Hang tight!\r\n              </Typography>\r\n              <Typography variant=\"body1\" gutterBottom className={classes.textBox}>\r\n                We're just finishing up your personalized results and creating your report.\r\n              </Typography>\r\n              <div className={classes.loading}>\r\n                <Loading />\r\n              </div>\r\n            </Grid>\r\n          </Container>\r\n        ) : connectionFailed ? (\r\n          <ConnectionFailed openModal={() => setIsModalOpen(true)} />\r\n        ) : (\r\n          <ConnectionSuccess openModal={() => setIsModalOpen(true)} />\r\n        )\r\n      }\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Hello.8062e010.png\";","import { useAppStateContext } from '../../AppStateProvider/AppStateProvider';\r\nimport { Button, Container, Grid, Typography } from '@material-ui/core';\r\nimport Hello from './Hello.png';\r\n\r\nexport function GetStarted() {\r\n  const { nextPane } = useAppStateContext();\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item md={5}>\r\n          <Typography variant=\"h1\" gutterBottom>\r\n            Let's get started.\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            We'll help you solve any video troubles you're experiencing but first, let's check your setup.\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={nextPane}>\r\n            Get started\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item md={5}>\r\n          {/* \r\n          The size of the image is explicitly stated here so that this content can properly be centered vertically\r\n          before the image is loaded.\r\n          */}\r\n          <img src={Hello} alt=\"Hello\" style={{ width: '284px', height: '284px' }} />\r\n          <Typography variant=\"body1\" color=\"textSecondary\">\r\n            <strong>Not sure about something?</strong> Skip that section for now, and your support administrator can\r\n            help later.\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ErrorIllustration.8feaf07a.png\";","import React from 'react';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { Button, Container, Grid, Typography, Paper, makeStyles } from '@material-ui/core';\r\nimport ErrorIllustration from './ErrorIllustration.png';\r\nimport { ErrorIcon } from '../../../../icons/ErrorIcon';\r\n\r\nconst useStyles = makeStyles({\r\n  heading: {\r\n    position: 'relative',\r\n    marginTop: '20px',\r\n  },\r\n  paper: {\r\n    display: 'inline-block',\r\n    padding: '23px',\r\n    borderRadius: '8px',\r\n  },\r\n  grantPermissions: {\r\n    fontSize: '16px',\r\n    paddingBottom: '16px',\r\n  },\r\n  /* The size of the image is explicitly stated here so that this content can properly be centered vertically\r\n  before the image is loaded.*/\r\n  illustration: {\r\n    height: '181px',\r\n    width: '342px',\r\n  },\r\n  errorIcon: {\r\n    position: 'absolute',\r\n    right: 'calc(100% + 18px)',\r\n  },\r\n});\r\n\r\nexport function getDeviceErrorPaneContent(error?: Error) {\r\n  let headline = '';\r\n  let message = '';\r\n\r\n  switch (true) {\r\n    // This error is emitted when the user or the user's system has denied permission to use the media devices\r\n    case error?.name === 'NotAllowedError':\r\n      headline = 'Permissions needed';\r\n\r\n      if (error!.message === 'Permission denied by system') {\r\n        // Chrome only\r\n        message =\r\n          'The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.';\r\n      } else {\r\n        message = `We can't access your microphone/camera which means we don't have permissions for audio and video. Depending on your browser or operating system, these might live in \"Settings\".`;\r\n      }\r\n\r\n      break;\r\n\r\n    // This error is emitted when input devices are not connected or disabled in the OS settings\r\n    case error?.name === 'NotFoundError':\r\n      headline = 'Cannot find microphone or camera';\r\n      message =\r\n        'The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.';\r\n      break;\r\n\r\n    // Other getUserMedia errors are less likely to happen in this app. Here we will display\r\n    // the system's error message directly to the user.\r\n    case Boolean(error):\r\n      headline = 'Error acquiring media';\r\n      message = `${error!.name} ${error!.message}`;\r\n      break;\r\n  }\r\n  return {\r\n    headline,\r\n    message,\r\n  };\r\n}\r\n\r\nexport function PermissionError() {\r\n  const { state } = useAppStateContext();\r\n  const { headline, message } = getDeviceErrorPaneContent(state.deviceError!);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item md={6}>\r\n          <Typography variant=\"h1\" gutterBottom className={classes.heading}>\r\n            <div className={classes.errorIcon}>\r\n              <ErrorIcon />\r\n            </div>{' '}\r\n            {headline}\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            {message}\r\n          </Typography>\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            <strong>Update your settings to allow your browser permissions and refresh this page.</strong>\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => window.location.reload()}>\r\n            Refresh page\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item md={5}>\r\n          <Paper className={classes.paper}>\r\n            <Typography variant=\"body1\" className={classes.grantPermissions}>\r\n              <strong>Permissions</strong>\r\n            </Typography>\r\n            <img src={ErrorIllustration} alt=\"Settings Illustration\" className={classes.illustration} />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Excellent.cefab6c4.png\";","import { Container, Typography, Grid, Button, makeStyles } from '@material-ui/core';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { QualityScore } from '../Quality';\r\nimport Excellent from './Excellent.png';\r\nimport { ViewIcon } from '../../../../icons/ViewIcon';\r\n\r\nconst useStyles = makeStyles({\r\n  modal: {\r\n    width: '6000px',\r\n  },\r\n  illustrationContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  viewButton: {\r\n    marginTop: '2em',\r\n    '& svg': {\r\n      position: 'relative',\r\n      left: '-5px',\r\n    },\r\n  },\r\n});\r\n\r\ninterface ExcellentQualityProps {\r\n  quality: QualityScore;\r\n  openModal: () => void;\r\n}\r\n\r\nexport function ExcellentQuality({ quality, openModal }: ExcellentQualityProps) {\r\n  const { nextPane } = useAppStateContext();\r\n  const classes = useStyles();\r\n\r\n  const qualityScore = quality === QualityScore.Excellent ? 'excellent' : 'good';\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item md={5}>\r\n          <Typography variant=\"h1\" gutterBottom>\r\n            Expected quality is {qualityScore}\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            This is the last step! Your expected audio and video quality is <strong>{qualityScore}</strong> and overall\r\n            performance looks {qualityScore === 'excellent' ? 'good' : 'ok'}.\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={nextPane}>\r\n            Finish up!\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item md={5} className={classes.illustrationContainer}>\r\n          {/* \r\n      The size of the image is explicitly stated here so that this content can properly be centered vertically\r\n      before the image is loaded.\r\n      */}\r\n          <img src={Excellent} alt=\"Success\" style={{ width: '245px', height: '200px' }} />\r\n          <Button variant=\"outlined\" onClick={openModal} className={classes.viewButton}>\r\n            <ViewIcon />\r\n            View detailed quality information\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export function WarningIcon() {\r\n  return (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M13.7461 1.52332L22.4767 10.2539C23.4411 11.2183 23.4411 12.7818 22.4767 13.7462L13.7461 22.4768C12.7818 23.4411 11.2182 23.4411 10.2539 22.4768L1.52327 13.7462C0.55891 12.7818 0.55891 11.2183 1.52327 10.2539L10.2539 1.52332C11.2182 0.55896 12.7818 0.55896 13.7461 1.52332ZM13.4 16.2C13.4 16.9732 12.7732 17.6 12 17.6C11.2268 17.6 10.6 16.9732 10.6 16.2C10.6 15.4269 11.2268 14.8 12 14.8C12.7732 14.8 13.4 15.4269 13.4 16.2ZM11.9856 7.80005H12.0142C12.8694 7.81042 13.5156 8.62935 13.3826 9.54159L12.7839 12.6744C12.7269 13.0891 12.3943 13.4 12.0047 13.4H11.9951C11.6055 13.4 11.2729 13.0891 11.2159 12.6744L10.6172 9.54159C10.4842 8.62935 11.1399 7.80005 11.9856 7.80005Z\"\r\n        fill=\"#F5A623\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { Container, Grid, Typography, Button, Paper, makeStyles } from '@material-ui/core';\r\nimport { ErrorIcon } from '../../../../icons/ErrorIcon';\r\nimport { QualityScore } from '../Quality';\r\nimport { useAppStateContext } from '../../../AppStateProvider/AppStateProvider';\r\nimport { ViewIcon } from '../../../../icons/ViewIcon';\r\nimport { WarningIcon } from '../../../../icons/WarningIcon';\r\n\r\nconst useStyles = makeStyles({\r\n  modal: {\r\n    width: '6000px',\r\n  },\r\n  paper: {\r\n    padding: '1.5em',\r\n    borderRadius: '8px',\r\n    '& li': {\r\n      '&:not(:last-child)': {\r\n        marginBottom: '1.5em',\r\n      },\r\n    },\r\n  },\r\n  paperContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  errorIcon: {\r\n    position: 'absolute',\r\n    right: 'calc(100% + 18px)',\r\n  },\r\n  viewButton: {\r\n    marginTop: '2em',\r\n    '& svg': {\r\n      position: 'relative',\r\n      left: '-5px',\r\n    },\r\n  },\r\n});\r\n\r\ninterface PoorQualityProps {\r\n  quality: QualityScore | undefined;\r\n  openModal: () => void;\r\n}\r\n\r\nexport function PoorQuality({ quality, openModal }: PoorQualityProps) {\r\n  const { nextPane } = useAppStateContext();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n        <Grid item md={5}>\r\n          <Typography variant=\"h1\" gutterBottom style={{ position: 'relative' }}>\r\n            <div className={classes.errorIcon}>\r\n              {quality === QualityScore.Suboptimal ? <WarningIcon /> : <ErrorIcon />}\r\n            </div>\r\n            Quality {quality === QualityScore.Suboptimal ? 'is okay' : 'issues'}\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            This the last step! Your expected audio and video quality is{' '}\r\n            <strong>{quality === QualityScore.Suboptimal ? 'suboptimal' : 'degraded'} </strong>\r\n            and overall performance {quality === QualityScore.Suboptimal ? 'could be better' : 'will be poor'}.\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\" gutterBottom>\r\n            <strong>Did you try all of the tips to improve quality?</strong>\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={nextPane} style={{ marginRight: '1.5em' }}>\r\n            Yes\r\n          </Button>\r\n          <Button color=\"primary\" onClick={nextPane}>\r\n            Skip for now\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item md={5} className={classes.paperContainer}>\r\n          <Paper className={classes.paper}>\r\n            <Typography variant=\"body1\">\r\n              <strong>Tips to improve quality and performance:</strong>\r\n            </Typography>\r\n\r\n            <ul>\r\n              <li>\r\n                <Typography variant=\"body1\">\r\n                  Close unused tabs and applications on your computer/device when using video.\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body1\">Move closer to your router.</Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body1\">Turn off or disconnect from VPN.</Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body1\">Restart your computer or device.</Typography>\r\n              </li>\r\n            </ul>\r\n          </Paper>\r\n\r\n          <Button variant=\"outlined\" onClick={openModal} className={classes.viewButton}>\r\n            <ViewIcon />\r\n            View detailed quality information\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","import { QualityScore } from '../Quality';\r\nimport { PreflightTestReport } from 'twilio-video';\r\nimport { MediaConnectionBitrateTest } from '@twilio/rtc-diagnostics';\r\n\r\nexport function getSingleQualityScore(\r\n  stat: number | undefined,\r\n  goodThreshold: number,\r\n  suboptimalThreshold: number,\r\n  poorThreshold: number,\r\n  descending: boolean = false\r\n) {\r\n  if (typeof stat === 'undefined') {\r\n    // We ignore values that are missing\r\n    return QualityScore.Excellent;\r\n  }\r\n\r\n  if (descending) {\r\n    if (stat > goodThreshold) return QualityScore.Excellent;\r\n    if (stat > suboptimalThreshold) return QualityScore.Good;\r\n    if (stat > poorThreshold) return QualityScore.Suboptimal;\r\n    return QualityScore.Poor;\r\n  }\r\n\r\n  if (stat >= poorThreshold) return QualityScore.Poor;\r\n  if (stat >= suboptimalThreshold) return QualityScore.Suboptimal;\r\n  if (stat >= goodThreshold) return QualityScore.Good;\r\n  return QualityScore.Excellent;\r\n}\r\n\r\nexport const formatNumber = (val: number | undefined) => {\r\n  return val?.toLocaleString(undefined, {\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2,\r\n  });\r\n};\r\n\r\nexport function getQualityScore(\r\n  preflightTestReport: PreflightTestReport | null,\r\n  bitrateTestReport: MediaConnectionBitrateTest.Report | null\r\n) {\r\n  const maxBitrate = bitrateTestReport?.values ? Math.max(...bitrateTestReport.values) : 0;\r\n\r\n  const latency = {\r\n    average: formatNumber(preflightTestReport?.stats!.rtt!.average),\r\n    max: formatNumber(preflightTestReport?.stats!.rtt!.max),\r\n    qualityScore: getSingleQualityScore(preflightTestReport?.stats!.rtt!.average, 100, 250, 400),\r\n  };\r\n\r\n  const jitter = {\r\n    average: formatNumber(preflightTestReport?.stats!.jitter!.average),\r\n    max: formatNumber(preflightTestReport?.stats!.jitter!.max),\r\n    qualityScore: getSingleQualityScore(preflightTestReport?.stats!.jitter!.average, 5, 10, 30),\r\n  };\r\n\r\n  const packetLoss = {\r\n    average: formatNumber(preflightTestReport?.stats!.packetLoss!.average),\r\n    max: formatNumber(preflightTestReport?.stats!.packetLoss!.max),\r\n    qualityScore: getSingleQualityScore(preflightTestReport?.stats!.packetLoss!.average, 1, 3, 8),\r\n  };\r\n\r\n  const bitrate = {\r\n    average: formatNumber(bitrateTestReport?.averageBitrate!),\r\n    max: formatNumber(maxBitrate),\r\n    qualityScore: getSingleQualityScore(bitrateTestReport?.averageBitrate!, 1000, 500, 150, true),\r\n  };\r\n\r\n  const totalQualityScore = Math.min(\r\n    latency.qualityScore,\r\n    jitter.qualityScore,\r\n    packetLoss.qualityScore,\r\n    bitrate.qualityScore\r\n  ) as QualityScore;\r\n\r\n  return {\r\n    latency,\r\n    jitter,\r\n    packetLoss,\r\n    bitrate,\r\n    totalQualityScore,\r\n  };\r\n}\r\n","export const toolTipContent = {\r\n  roundTripTime: `Round-trip time (RTT) is the time a packet of data takes to go from sender to receiver and back again. High RTT can cause the video to lag, freeze, or slow down. This is usually attributed to slow or overloaded networks.`,\r\n  jitter: `Jitter is the fluctuation of latency over time. Due to network congestion, data can take longer to travel. High jitter typically results in short bursts of video freezing, slow video, and choppy audio.`,\r\n  packetLoss: `Packet loss is caused when data fails to reach its destination. High packet loss results in video freezing, slow video, and choppy audio. Packet loss is usually caused by overloaded routers or high CPU load on the machine.`,\r\n  bitrate: `Bitrate is the way we measure the speed of the upload and download transfers. If a sender uploads data too quickly and exceeds the transfer speed, the network gets overwhelmed and can cause issues for everyone. Symptoms of this can be frozen video, downscaled video, frame-rate drops, choppy audio, and potentially dropped connections.`,\r\n};\r\n","export function InfoIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10ZM3.25 10C3.25 6.27208 6.27208 3.25 10 3.25C13.7279 3.25 16.75 6.27208 16.75 10C16.75 13.7279 13.7279 16.75 10 16.75C6.27208 16.75 3.25 13.7279 3.25 10ZM9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10V13C11 13.5523 10.5523 14 10 14C9.44772 14 9 13.5523 9 13V10ZM10 8C10.5523 8 11 7.55228 11 7C11 6.44772 10.5523 6 10 6C9.44772 6 9 6.44772 9 7C9 7.55228 9.44772 8 10 8Z\"\r\n        fill=\"#606B85\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import {\r\n  createStyles,\r\n  makeStyles,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { ErrorStatus, SuccessStatus, WarningStatus } from '../../../../icons/StatusIcons';\r\nimport { QualityScore } from '../Quality';\r\nimport { toolTipContent } from './ToolTipContent';\r\nimport { InfoIcon } from '../../../../icons/InfoIcon';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    modal: {\r\n      width: '100%',\r\n    },\r\n    content: {\r\n      padding: '3em',\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n    iconContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      '& div': {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n      },\r\n      '& svg': {\r\n        marginRight: '0.3em',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\ninterface QualityModalProps {\r\n  isModalOpen: boolean;\r\n  setIsModalOpen: (isModalOpen: boolean) => void;\r\n  jitter: { average?: string; max?: string; qualityScore: QualityScore };\r\n  latency: { average?: string; max?: string; qualityScore: QualityScore };\r\n  packetLoss: { average?: string; max?: string; qualityScore: QualityScore };\r\n  bitrate: { average?: string; max?: string; min?: string; qualityScore: QualityScore };\r\n}\r\n\r\nexport function QualityModal({ isModalOpen, setIsModalOpen, latency, jitter, packetLoss, bitrate }: QualityModalProps) {\r\n  const statusIcons = {\r\n    [QualityScore.Excellent]: <SuccessStatus />,\r\n    [QualityScore.Good]: <SuccessStatus />,\r\n    [QualityScore.Suboptimal]: <WarningStatus />,\r\n    [QualityScore.Poor]: <ErrorStatus />,\r\n  };\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isModalOpen} onClose={() => setIsModalOpen(false)} classes={{ paper: classes.modal }}>\r\n        <DialogTitle disableTypography>\r\n          <Typography variant=\"h3\">Detailed quality information</Typography>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={() => setIsModalOpen(false)}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers className={classes.content}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Network Info</strong>\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Typography variant=\"body1\">\r\n                    <strong>Score</strong>\r\n                  </Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    <Tooltip title={toolTipContent.roundTripTime} interactive leaveDelay={250}>\r\n                      <div>\r\n                        <InfoIcon />\r\n                      </div>\r\n                    </Tooltip>\r\n                    <Typography variant=\"body1\">\r\n                      <strong>RTT (ms) avg/max</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {statusIcons[latency.qualityScore]}\r\n                    <Typography variant=\"body1\">{`${latency.average} / ${latency.max} (${\r\n                      QualityScore[latency.qualityScore]\r\n                    })`}</Typography>\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    <Tooltip title={toolTipContent.jitter} interactive leaveDelay={250}>\r\n                      <div>\r\n                        <InfoIcon />\r\n                      </div>\r\n                    </Tooltip>\r\n                    <Typography variant=\"body1\">\r\n                      <strong>Jitter (s) avg/max</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {statusIcons[jitter.qualityScore]}\r\n                    <Typography variant=\"body1\">{`${jitter.average} / ${jitter.max} (${\r\n                      QualityScore[jitter.qualityScore]\r\n                    })`}</Typography>\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    <Tooltip title={toolTipContent.packetLoss} interactive leaveDelay={250}>\r\n                      <div>\r\n                        <InfoIcon />\r\n                      </div>\r\n                    </Tooltip>\r\n                    <Typography variant=\"body1\">\r\n                      <strong>Packet loss avg/max</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {statusIcons[packetLoss.qualityScore]}\r\n                    <Typography variant=\"body1\">{`${packetLoss.average}% / ${packetLoss.max}% (${\r\n                      QualityScore[packetLoss.qualityScore]\r\n                    })`}</Typography>\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    <Tooltip title={toolTipContent.bitrate} interactive leaveDelay={250}>\r\n                      <div>\r\n                        <InfoIcon />\r\n                      </div>\r\n                    </Tooltip>\r\n                    <Typography variant=\"body1\">\r\n                      <strong>Bitrate (kbps) avg/max</strong>\r\n                    </Typography>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <div className={classes.iconContainer}>\r\n                    {statusIcons[bitrate.qualityScore]}\r\n                    <Typography variant=\"body1\">{`${bitrate.average} / ${bitrate.max} (${\r\n                      QualityScore[bitrate.qualityScore]\r\n                    })`}</Typography>\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import { ExcellentQuality } from './ExcellentQuality/ExcellentQuality';\r\nimport { PoorQuality } from './PoorQuality/PoorQuality';\r\nimport { getQualityScore } from './getQualityScore/getQualityScore';\r\nimport { useAppStateContext } from '../../AppStateProvider/AppStateProvider';\r\nimport { QualityModal } from './QualityModal/QualityModal';\r\nimport { useState } from 'react';\r\n\r\nexport enum QualityScore {\r\n  Poor,\r\n  Suboptimal,\r\n  Good,\r\n  Excellent,\r\n}\r\n\r\nexport function Quality() {\r\n  const { state } = useAppStateContext();\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const { totalQualityScore, latency, jitter, packetLoss, bitrate } = getQualityScore(\r\n    state.preflightTest.report,\r\n    state.bitrateTest.report\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <QualityModal\r\n        isModalOpen={isModalOpen}\r\n        setIsModalOpen={setIsModalOpen}\r\n        jitter={jitter}\r\n        latency={latency}\r\n        packetLoss={packetLoss}\r\n        bitrate={bitrate}\r\n      />\r\n      {totalQualityScore === QualityScore.Good || totalQualityScore === QualityScore.Excellent ? (\r\n        <ExcellentQuality quality={totalQualityScore} openModal={() => setIsModalOpen(true)} />\r\n      ) : (\r\n        <PoorQuality quality={totalQualityScore} openModal={() => setIsModalOpen(true)} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","export function CheckMark() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM9.7103 12.7047L13.7062 8.71128C13.8943 8.52328 14 8.26831 14 8.00244C14 7.73657 13.8943 7.4816 13.7062 7.29361C13.5181 7.10561 13.263 7 12.9969 7C12.7309 7 12.4758 7.10561 12.2877 7.29361L9.00103 10.5882L7.71234 9.29032C7.52423 9.10232 7.2691 8.99672 7.00307 8.99672C6.73703 8.99672 6.4819 9.10232 6.2938 9.29032C6.10568 9.47831 6 9.73328 6 9.99915C6 10.265 6.10568 10.52 6.2938 10.708L8.29175 12.7047C8.38462 12.7983 8.4951 12.8725 8.61684 12.9232C8.73857 12.9739 8.86914 13 9.00103 13C9.1329 13 9.26347 12.9739 9.3852 12.9232C9.50694 12.8725 9.61742 12.7983 9.7103 12.7047Z\"\r\n        fill=\"#0E7C3A\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/TestsPassed.c211a030.png\";","import { makeStyles, Button, Container, Grid, Typography } from '@material-ui/core';\r\nimport { ActivePane, useAppStateContext } from '../../AppStateProvider/AppStateProvider';\r\nimport { CheckMark } from '../../../icons/CheckMark';\r\nimport { DownloadIcon } from '../../../icons/DownloadIcon';\r\nimport { getQualityScore } from '../Quality/getQualityScore/getQualityScore';\r\nimport { QualityScore } from '../Quality/Quality';\r\nimport { SmallError } from '../../../icons/SmallError';\r\nimport SomeFailed from './SomeFailed.png';\r\nimport TestsPassed from './TestsPassed.png';\r\n\r\nconst useStyles = makeStyles({\r\n  resultContainer: {\r\n    marginTop: '2em',\r\n    '&:not(:last-child)': {\r\n      paddingBottom: '2em',\r\n      borderBottom: '0.1em solid #8891AA',\r\n    },\r\n  },\r\n  iconContainer: {\r\n    display: 'flex',\r\n    '& svg': {\r\n      margin: '0.2em 0.8em 0 0',\r\n    },\r\n  },\r\n  downloadButton: {\r\n    marginRight: '1.5em',\r\n    '& svg': {\r\n      position: 'relative',\r\n      left: '-5px',\r\n    },\r\n  },\r\n});\r\n\r\nexport function Results() {\r\n  const { state, downloadFinalTestResults, dispatch } = useAppStateContext();\r\n  const { totalQualityScore } = getQualityScore(state.preflightTest.report, state.bitrateTest.report);\r\n  const classes = useStyles();\r\n\r\n  const testsPassed = totalQualityScore === QualityScore.Excellent || totalQualityScore === QualityScore.Good;\r\n  const qualityScore = QualityScore[totalQualityScore].toLowerCase();\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Grid container justifyContent=\"space-between\">\r\n          <Grid item md={5}>\r\n            <Typography variant=\"h1\" gutterBottom>\r\n              {testsPassed ? 'All tests passed!' : 'Some tests failed'}\r\n            </Typography>\r\n\r\n            {testsPassed ? (\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                As far as we can tell, your video should be working. If you're still experiencing issues, download your\r\n                report results and send to your network administrator.\r\n              </Typography>\r\n            ) : (\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                <strong>One out of three </strong>\r\n                tests failed – use this list to solve common video issues and restart the test. If you can’t easily\r\n                solve the problem(s), download report results and send to your network administrator.\r\n              </Typography>\r\n            )}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.downloadButton}\r\n              onClick={downloadFinalTestResults}\r\n            >\r\n              <DownloadIcon />\r\n              Download report results\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              style={{ backgroundColor: '#FFFFFF', borderColor: '#8891AA' }}\r\n              onClick={() => window.location.reload()}\r\n            >\r\n              Restart test\r\n            </Button>\r\n            <img\r\n              src={testsPassed ? TestsPassed : SomeFailed}\r\n              alt={testsPassed ? 'Success' : 'Some Failed'}\r\n              style={{ marginTop: '7em' }}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={5}>\r\n            <div className={classes.resultContainer}>\r\n              <div className={classes.iconContainer}>\r\n                <CheckMark />\r\n                <Typography variant=\"h3\" gutterBottom>\r\n                  Device &amp; Network Setup\r\n                </Typography>\r\n              </div>\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                Audio and video successfully received from your hardware and browser.\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => dispatch({ type: 'set-active-pane', newActivePane: ActivePane.CameraTest })}\r\n                style={{ marginRight: '1.5em' }}\r\n              >\r\n                Review hardware\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => dispatch({ type: 'set-active-pane', newActivePane: ActivePane.BrowserTest })}\r\n              >\r\n                Review browser\r\n              </Button>\r\n            </div>\r\n\r\n            <div className={classes.resultContainer}>\r\n              <div className={classes.iconContainer}>\r\n                <CheckMark />\r\n                <Typography variant=\"h3\" gutterBottom>\r\n                  Connectivity\r\n                </Typography>\r\n              </div>\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                All connections are working successfully.\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => dispatch({ type: 'set-active-pane', newActivePane: ActivePane.Connectivity })}\r\n              >\r\n                Review connectivity\r\n              </Button>\r\n            </div>\r\n\r\n            <div className={classes.resultContainer}>\r\n              <div className={classes.iconContainer}>\r\n                {testsPassed ? <CheckMark /> : <SmallError />}\r\n                <Typography variant=\"h3\" gutterBottom>\r\n                  Quality &amp; Performance\r\n                </Typography>\r\n              </div>\r\n\r\n              {testsPassed ? (\r\n                <Typography variant=\"body1\" gutterBottom>\r\n                  Awesome! Your expected call quality is <strong>{qualityScore}</strong> and overall performance looks\r\n                  {qualityScore === 'excellent' ? ' good' : ' ok'}.\r\n                </Typography>\r\n              ) : (\r\n                <Typography variant=\"body1\" gutterBottom>\r\n                  Your overall score is <strong>{qualityScore}</strong> which means that your connection isn't good\r\n                  enough to run video properly. Try out these tips and rerun the test\r\n                </Typography>\r\n              )}\r\n\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => dispatch({ type: 'set-active-pane', newActivePane: ActivePane.Quality })}\r\n              >\r\n                Review performance\r\n              </Button>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import { SmallError } from '../../icons/SmallError';\r\nimport { makeStyles, Typography, Button } from '@material-ui/core';\r\nimport MUISnackbar from '@material-ui/core/Snackbar';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '400px',\r\n    minHeight: '50px',\r\n    background: 'white',\r\n    padding: '1em',\r\n    borderRadius: '3px',\r\n    boxShadow: '0 12px 24px 4px rgba(40,42,43,0.2)',\r\n    borderLeft: '4px solid #D61F1F',\r\n  },\r\n  contentContainer: {\r\n    display: 'flex',\r\n    lineHeight: 1.8,\r\n  },\r\n  iconContainer: {\r\n    display: 'flex',\r\n    padding: '0 1.3em 0 0.3em',\r\n    transform: 'translateY(3px)',\r\n  },\r\n  headline: {\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\ninterface SnackbarProps {\r\n  open: boolean;\r\n}\r\n\r\nexport function Snackbar({ open }: SnackbarProps) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <MUISnackbar\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      }}\r\n      open={open}\r\n      autoHideDuration={110000}\r\n    >\r\n      <div className={classes.container}>\r\n        <div className={classes.contentContainer}>\r\n          <div className={classes.iconContainer}>\r\n            <SmallError />\r\n          </div>\r\n          <div>\r\n            <Typography variant=\"body1\" className={classes.headline}>\r\n              Device change: unable to connect -\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n              {' '}\r\n              please reset your browser/OS permissions (which may be in your \"Settings\") and refresh this page.\r\n            </Typography>\r\n            <Button style={{ marginTop: '1em' }} variant=\"outlined\" onClick={() => window.location.reload()}>\r\n              Refresh page\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </MUISnackbar>\r\n  );\r\n}\r\n","import { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { Button, makeStyles, useTheme } from '@material-ui/core';\nimport Video from 'twilio-video';\n\nimport { ActivePane, useAppStateContext } from '../AppStateProvider/AppStateProvider';\nimport { ArrowDown } from '../../icons/ArrowDown';\nimport { ArrowUp } from '../../icons/ArrowUp';\nimport { AudioTest } from '../panes/AudioTest/AudioTest';\nimport { BrowserTest } from '../panes/BrowserTest/BrowserTest';\nimport { CameraTest } from '../panes/CameraTest/CameraTest';\nimport { CheckPermissions } from '../panes/DeviceSetup/CheckPermissions/CheckPermissions';\nimport { Connectivity } from '../panes/Connectivity/Connectivity';\nimport { GetStarted } from '../panes/GetStarted/GetStarted';\nimport { PermissionError } from '../panes/DeviceSetup/PermissionError/PermissionError';\nimport { Quality } from '../panes/Quality/Quality';\nimport { Results } from '../panes/Results/Results';\nimport { Snackbar } from '../Snackbar/Snackbar';\n\nconst useStyles = makeStyles({\n  contentContainer: {\n    position: 'absolute',\n    top: '0',\n  },\n  scrollContainer: {\n    transition: 'all 1s ease',\n    position: 'relative',\n    transform: 'translateY(50vh)',\n    '& .inactive': {\n      opacity: 0.2,\n      userSelect: 'none',\n      cursor: 'pointer',\n      '& > *': {\n        pointerEvents: 'none',\n      },\n    },\n  },\n  hideAll: {\n    '& .inactive': {\n      opacity: 0,\n      visibility: 'hidden',\n    },\n  },\n  hideAfter: {\n    '& .active ~ $item': {\n      opacity: 0,\n      visibility: 'hidden',\n    },\n  },\n  item: {\n    transition: 'all 0.75s ease',\n    width: '100vw',\n    height: '100vh',\n    overflow: 'auto',\n    padding: '10%',\n    paddingRight: '25%',\n    paddingBottom: '25%',\n  },\n  hideItem: {\n    visibility: 'hidden',\n    position: 'fixed',\n  },\n  desktopOnly: {\n    '@media (max-width:600px)': {\n      display: 'none',\n    },\n  },\n  buttonContainer: {\n    position: 'absolute',\n    bottom: 30,\n    right: 30,\n    display: 'flex',\n    flexDirection: 'column',\n    '& button': {\n      minWidth: 0,\n      padding: '0.6em 0.9em',\n      background: 'white',\n      '&:first-child': {\n        marginBottom: '1.5em',\n      },\n      '&[disabled]': {\n        visibility: 'hidden',\n      },\n    },\n  },\n});\n\nexport function Item({\n  children,\n  isActive,\n  onClick,\n  isHidden,\n}: {\n  children: React.ReactNode;\n  isActive: boolean;\n  onClick: () => void;\n  isHidden: boolean;\n}) {\n  const theme = useTheme();\n  const classes = useStyles();\n  const ref = useRef<HTMLDivElement>(null!);\n\n  useEffect(() => {\n    if (isActive) {\n      const el = ref.current;\n      const offset = el.offsetTop + el.offsetHeight * 0.5;\n      el.parentElement!.style.transform = `translateY(calc(50vh - ${offset}px + ${theme.navHeight / 2}px))`;\n    }\n  });\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(classes.item, { inactive: !isActive, active: isActive, [classes.hideItem]: isHidden })}\n      onClick={!isActive ? onClick : undefined}\n      aria-hidden={!isActive}\n      data-testid={`item-container`}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst content = [\n  { pane: ActivePane.GetStarted, component: <GetStarted /> },\n  { pane: ActivePane.DeviceCheck, component: <CheckPermissions /> },\n  { pane: ActivePane.DeviceError, component: <PermissionError /> },\n  { pane: ActivePane.CameraTest, component: <CameraTest /> },\n  { pane: ActivePane.AudioTest, component: <AudioTest /> },\n  { pane: ActivePane.BrowserTest, component: <BrowserTest /> },\n  { pane: ActivePane.Connectivity, component: <Connectivity /> },\n  { pane: ActivePane.Quality, component: <Quality /> },\n  { pane: ActivePane.Results, component: <Results /> },\n];\n\nexport function MainContent() {\n  const classes = useStyles();\n  const { state, dispatch, nextPane } = useAppStateContext();\n\n  const devicesPermitted = state.audioGranted && state.videoGranted;\n  const testsInProgress = state.preflightTestInProgress || state.bitrateTestInProgress;\n  const onLoadingScreen = state.activePane === ActivePane.Connectivity && testsInProgress;\n\n  const deviceTestErrors =\n    !!state.audioInputTestReport?.errors.length ||\n    !!state.audioOutputTestReport?.errors.length ||\n    !!state.videoInputTestReport?.errors.length;\n  const isSnackbarOpen =\n    deviceTestErrors && (state.activePane === ActivePane.CameraTest || state.activePane === ActivePane.AudioTest);\n\n  return (\n    <>\n      <div className={classes.desktopOnly}>\n        <Snackbar open={isSnackbarOpen} />\n      </div>\n      <div className={classes.contentContainer}>\n        <div\n          className={clsx(classes.scrollContainer, {\n            [classes.hideAll]: state.activePane === 0 || isSnackbarOpen,\n            [classes.hideAfter]:\n              state.activePane === ActivePane.DeviceCheck ||\n              state.activePane === ActivePane.DeviceError ||\n              onLoadingScreen ||\n              (state.activePane === ActivePane.BrowserTest && (testsInProgress || !Video.isSupported)),\n          })}\n        >\n          {content.map((pane, i) => {\n            return (\n              <Item\n                key={i}\n                isActive={state.activePane === pane.pane}\n                onClick={() => dispatch({ type: 'set-active-pane', newActivePane: pane.pane })}\n                isHidden={\n                  (pane.pane === ActivePane.DeviceError && !state.deviceError) ||\n                  (pane.pane === ActivePane.DeviceCheck && devicesPermitted)\n                }\n              >\n                {pane.component}\n              </Item>\n            );\n          })}\n        </div>\n      </div>\n      <div className={classes.buttonContainer}>\n        <Button\n          variant=\"outlined\"\n          onClick={() => dispatch({ type: 'previous-pane' })}\n          disabled={!ActivePane[state.activePane - 1] || isSnackbarOpen}\n        >\n          <ArrowUp />\n        </Button>\n        <Button variant=\"outlined\" onClick={nextPane} disabled={state.downButtonDisabled}>\n          <ArrowDown />\n        </Button>\n      </div>\n    </>\n  );\n}\n","import { createStyles, makeStyles, Theme } from '@material-ui/core';\nimport React from 'react';\nimport { AppStateProvider } from './components/AppStateProvider/AppStateProvider';\nimport Header from './components/Header/Header';\nimport { MainContent } from './components/MainContent/MainContent';\n\nimport { Logo } from './icons/Logo';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    appContainer: {\n      position: 'relative',\n      height: '100%',\n      width: '100%',\n      background: theme.backgroundColor,\n      overflow: 'hidden',\n    },\n    desktopOnly: {\n      '@media (max-width:600px)': {\n        display: 'none',\n      },\n    },\n  })\n);\n\nfunction App() {\n  const classes = useStyles();\n\n  return (\n    <AppStateProvider>\n      <div className={classes.appContainer}>\n        <div className={classes.desktopOnly}>\n          <Header />\n        </div>\n        <MainContent />\n      </div>\n    </AppStateProvider>\n  );\n}\n\nexport default App;\n","import { createTheme } from '@material-ui/core';\n\ndeclare module '@material-ui/core/styles/createTheme' {\n  interface Theme {\n    navHeight: number;\n    brandSidebarWidth: number;\n    backgroundColor: string;\n  }\n\n  // allow configuration using `createTheme`\n  interface ThemeOptions {\n    navHeight: number;\n    brandSidebarWidth: number;\n    backgroundColor: string;\n  }\n}\n\nconst defaultTheme = createTheme();\n\nexport default createTheme({\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        'html, body, #root': {\n          height: '100%',\n          width: '100%',\n        },\n      },\n    },\n    MuiContainer: {\n      root: {\n        width: '100%',\n      },\n    },\n    MuiButton: {\n      root: {\n        marginBottom: '10px',\n        borderRadius: '4px',\n        textTransform: 'none',\n        color: 'rgb(40, 42, 43)',\n        fontSize: '0.9rem',\n        fontWeight: 600,\n        transition: defaultTheme.transitions.create(['background-color', 'box-shadow', 'border', 'color'], {\n          duration: defaultTheme.transitions.duration.short,\n        }),\n      },\n      text: {\n        padding: '6px 14px',\n      },\n      contained: {\n        boxShadow: 'none',\n        '&:hover': {\n          boxShadow: 'none',\n        },\n      },\n      outlinedPrimary: {\n        border: '2px solid #027AC5',\n        '&:hover': {\n          border: '2px solid rgb(1, 85, 137)',\n        },\n      },\n      startIcon: {\n        marginRight: '6px',\n      },\n      outlined: {\n        backgroundColor: 'white',\n        border: '1px solid #8891AA',\n      },\n    },\n    MuiInputBase: {\n      root: {\n        fontSize: '0.9rem',\n      },\n    },\n    MuiSelect: {\n      root: {\n        padding: '0.85em',\n      },\n    },\n    MuiDialogActions: {\n      root: {\n        padding: '16px',\n      },\n    },\n    MuiTextField: {\n      root: {\n        color: 'rgb(40, 42, 43)',\n      },\n    },\n    MuiInputLabel: {\n      root: {\n        color: 'rgb(40, 42, 43)',\n        fontSize: '1.1rem',\n        marginBottom: '0.2em',\n        fontWeight: 500,\n      },\n    },\n    MuiOutlinedInput: {\n      notchedOutline: {\n        borderColor: 'rgb(136, 140, 142)',\n      },\n    },\n    MuiTypography: {\n      gutterBottom: {\n        marginBottom: '36px',\n      },\n    },\n    MuiTableCell: {\n      head: {\n        background: '#F4F4F6',\n      },\n    },\n    MuiTooltip: {\n      tooltip: {\n        fontSize: '0.9rem',\n      },\n    },\n  },\n  typography: {\n    fontFamily: 'Inter, sans-serif',\n    h1: {\n      color: '#121C2D',\n      fontSize: '2rem',\n      fontWeight: 700,\n    },\n    h3: {\n      color: '#121C2D',\n      fontSize: '1.25rem',\n      fontWeight: 700,\n      lineHeight: '1.75rem',\n    },\n    body1: {\n      color: '#121C2D',\n      fontSize: '0.9rem',\n      lineHeight: '1.5rem',\n    },\n  },\n  palette: {\n    primary: {\n      main: '#0263E0',\n    },\n    text: {\n      secondary: '#606B85',\n    },\n  },\n  navHeight: 100,\n  brandSidebarWidth: 250,\n  backgroundColor: '#f4f4f6',\n});\n","/**\r\n * Copyright (C) 2021 Twilio, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport theme from './theme';\r\nimport { CssBaseline, MuiThemeProvider } from '@material-ui/core';\r\n\r\nReactDOM.render(\r\n  <MuiThemeProvider theme={theme}>\r\n    <CssBaseline />\r\n    <App />\r\n  </MuiThemeProvider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}